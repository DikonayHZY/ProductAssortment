<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Study1</title>
    <script type="text/javascript" src="template_2.js"></script>
    <script type="text/javascript" src="template_4.js"></script>
    <script type="text/javascript" src="template_5.js"></script>
    <script type="text/javascript" src="template_7.js"></script>
    <script type="text/javascript" src="template_9.js"></script>
    <script type="text/javascript" src="template_9_example.js"></script>    
    <script type="text/javascript" src="template_9_dyh.js"></script>
    <script type="text/javascript" src="template_10.js"></script>
    <script type="text/javascript" src="page_test.js"></script>
    <script type="text/javascript" src="template_tea_TF1.js"></script>
    <script type="text/javascript" src="template_tea_TF2.js"></script>
    <script type="text/javascript" src="template_shampoo_TF1_example.js"></script>
    <script type="text/javascript" src="template_shampoo_TF1.js"></script>
    <script type="text/javascript" src="template_shampoo_TF2.js"></script>
    <script type="text/javascript" src="template_brush_TF1.js"></script>
    <script type="text/javascript" src="template_brush_TF1_example.js"></script>    
    <script type="text/javascript" src="template_brush_TF2.js"></script>    
    <script type="text/javascript">
        
        var username = "黄梓仪";
        var gender = "0";
        var age = "18";
        var major = "应用化学";
        var grade = "大一";
        var grade_id = "2";
        var phone = "空";
        var purpose = "空";
        var condition = "benefit";            // "attribute"
        var assortment = 0;
        if(condition == "attribute"){
            assortment = 1;
        }else if(condition == "benefit"){
            assortment = 2;
        }
        var name_type = 1;
        var output_order = ["tea","shampoo","brush"];   // 关键配置, 最后的输出顺序
        var order_pages = ["shampoo","tea"];          // 关键配置, 后续页面跟随这个, 支持 tea, shampoo, brush
        var order_number = 1;                           // 无需设置, 跟随order_page设定自动修改
        var order_sign = "shampoo_brush";               // 无需设置, 跟随order_page设定自动修改

        console.log("order:", order_number);
        console.log("condition:", condition);

        var title_color_map = {
            "绿茶": "#90A71F",
            "红茶": "#CA6931",
            "青茶": "#B27511",
            "花茶": "#CE6E60",
            "减肥瘦身": "#90A71F",
            "舒缓压力": "#CA6931",
            "保健养生": "#B27511",
            "美容养颜": "#CE6E60",
        }

	    var config_tea = {
            "name": "tea",
	        "product1":[//减肥瘦身                      
                [0, "../resource/tea/六安瓜片.JPG", "绿茶", "减肥瘦身", "瓜子形单叶，叶底嫩黄，熟栗香味","降低血脂，促进消化","4"],
                [0, "../resource/tea/坦洋工夫.JPG", "红茶", "减肥瘦身", "条索紧细，毫尖金黄，桂圆香气", "减肥瘦身，养胃护胃","8"],
                [0, "../resource/tea/东方美人.JPG", "青茶", "减肥瘦身","茶心肥厚，满披茸毛，有熟果香", "消脂减肥，降低血脂","12"],
                [0, "../resource/tea/玫瑰花茶.JPG", "花茶", "减肥瘦身","朵大饱满，色泽均匀，香味清淡", "消脂减肥，促进消化","18"],
	            [0, "../resource/tea/苦丁茶.JPG", "花茶", "减肥瘦身","条索紧结，灰绿相间，清香带苦", "降压降脂，清热消暑","19"],                
	        ],
	        "product2":[//舒缓压力
                [0, "../resource/tea/太平猴魁.JPG", "绿茶", "舒缓压力", "两叶抱芽，绿中隐红，兰香高爽","促进血液循环，松弛平滑肌","3"],
	            [0, "../resource/tea/政和工夫.JPG", "红茶", "舒缓压力", "条索重实，毫尖金黄，紫罗兰香", "好喝，身心愉悦","7"],
                [0, "../resource/tea/水金龟.JPG", "青茶", "舒缓压力","条索紧结，色泽青褐，清雅高长", "好喝，身心愉悦","13"],                
	            [0, "../resource/tea/永春佛手.JPG", "青茶", "舒缓压力","紧结肥壮，砂率乌润，香气悠长", "回甘，身心愉悦","14"],
                [0, "../resource/tea/茉莉花茶.JPG", "花茶", "舒缓压力","紧细圆整，黄中带褐，灵香持久", "好喝，身心愉悦","17"],
	        ],
	        "product3":[//保健养生
                [0, "../resource/tea/狗牯脑茶.JPG", "绿茶", "保健养生","紧结微勾，黛绿莹润，清心雅郁","利尿解毒，防治心血管疾病","5"],
                [0, "../resource/tea/正山小种.JPG", "红茶", "保健养生", "条索肥壮，呈红褐色，有松烟香", "利尿排毒，强壮骨骼，护心养胃","9"],
                [0, "../resource/tea/信阳红.JPG", "红茶", "保健养生", "条索匀整，乌黑披金，有花果香", "消炎杀菌，利尿解毒","10"],
                [0, "../resource/tea/冻顶乌龙.JPG", "青茶", "保健养生","呈半球形，色泽墨绿，有桂花香", "抗氧化，防治龋齿","15"],
                [0, "../resource/tea/杭白菊.JPG", "花茶", "保健养生","花形完整，嫩黄鲜亮，香气清冽", "清热解毒，消食醒酒","20"],                             
	        ],
	        "product4":[//美容养颜 
                [0, "../resource/tea/雪水云绿.JPG", "绿茶", "美容养颜", "银剑出鞘，茸毫隐翠，林间香气","延缓衰老，防癌抗癌","1"],
                [0, "../resource/tea/千岛玉叶.JPG", "绿茶", "美容养颜", "扁平挺直，翠绿嫩黄，兰蕙之清","抗老，防癌，养颜，抗菌","2"],
                [0, "../resource/tea/金骏眉.JPG", "红茶", "美容养颜", "条索紧细，乌润带金，花果清香", "排毒养颜，抗氧化","6"],
                [0, "../resource/tea/凤凰单枞.JPG", "青茶", "美容养颜","条索匀直，黄褐油润，独特花香", "改善皮肤过敏，养颜促代谢","11"],
                [0, "../resource/tea/黄山贡菊.JPG", "花茶", "美容养颜","朵大均匀，色白蒂绿，菊花香味", "护肤美容，排毒护肝","16"],
	        ],
	    };

        var choose_tea =  {
            "current": 0,
            "names": [
                "雪水云绿",
                "正山小种",
                "东方美人",
                "茉莉花茶",
            ]
        };

	    var question_tea = {
            "questions":[
                {"id":"tea2", "example": 1, "template": template_9_example, "content":"例题：李明正在考虑周末去拜访一个朋友。他去拜访的可能性有多大？", "left": "非常不可能", "right": "非常可能"},
                {"id":"tea3", "example": 0, "template": template_9, "content":"小红正在考虑给自己买一双新鞋。她买的可能性有多大？", "left": "非常不可能", "right": "非常可能"},
                {"id":"tea4", "example": 0, "template": template_9, "content":"小张正在查看他的邮件。他收到垃圾邮件的可能性有多大？", "left": "非常不可能", "right": "非常可能"},
                {"id":"tea5", "example": 0, "template": template_9, "content":"小郭正在考虑是否要养一只宠物。他养宠物可能性有多大？", "left": "非常不可能", "right": "非常可能"},
                {"id":"tea6", "example": 0, "template": template_9, "content":"小杨正在参加公司年会的抽奖活动。他抽中大奖可能性有多大？", "left": "非常不可能", "right": "非常可能"},
                {"id":"tea7", "example": 0, "template": template_7, "content":"总的来说，你认为御茗阁茶叶目录中的茶叶之间有多相似？", "left": "完全不相似", "right": "非常相似"},
                {"id":"tea8", "example": 0, "template": template_9_dyh, "content":"御茗阁为我提供了多样化的选择", "left": "非常不符合", "right": "非常符合"},
                {"id":"tea9", "example": 0, "template": template_9_dyh, "content":"在完成选择任务之时, 我感觉有较多的可选产品", "left": "非常不符合", "right": "非常符合"},
                {"id":"tea10", "example": 0, "template": template_4, "content":"我感觉难以挑选出自己偏好的一款茶叶", "left": "非常不符合", "right": "非常符合"},
                {"id":"tea11", "example": 0, "template": template_4, "content":"我感觉完成茶叶选择的任务是困难的", "left": "非常不符合", "right": "非常符合"},
                {"id":"tea12", "example": 0, "template": template_4, "content":"我感觉完成茶叶选择的任务需要耗费精力", "left": "非常不符合", "right": "非常符合"},
                {"id":"tea13", "example": 0, "template": template_4, "content":"我感觉完成茶叶选择的任务需要进行较多的思考", "left": "非常不符合", "right": "非常符合"},
                {"id":"tea14", "example": 0, "template": template_4, "content":"我感觉完成茶叶选择的任务需要花费了较长的时间", "left": "非常不符合", "right": "非常符合"},
                {"id":"tea15", "example": 0, "template": template_4, "content":"我了解御茗阁这个品牌", "left": "非常不符合", "right": "非常符合"},
                {"id":"tea16", "example": 0, "template": template_4, "content":"我了解茶叶知识", "left": "非常不符合", "right": "非常符合"},
            ],
        };

	    var test_tea = {
            // 问卷的第一张控件, 图片: TF_pic1, 名称 TF_name1, TF_benefit1, TF_attribute1,
            "tests":[
                [
                    {"id":"tea_00", "example": 1, "template": template_tea_TF1, "content":"例题：下图所示的茶叶是否在茶叶目录中出现过？", "left": "是", "right": "否", "true":"1",
                        "pictures":[
                            {"src":"../resource/tea/千岛玉叶.JPG", "name":"千岛玉叶", "benefit":"美容养颜", "attribute":"绿茶"},
                        ],
                    },
                ],
                [
                    {"id":"tea_01", "example": 0, "template": template_tea_TF1, "content":"下图所示的茶叶是否在茶叶目录中出现过？", "left": "是", "right": "否", "true":"1",
                        "pictures":[
                            {"src":"../resource/tea/千岛玉叶.JPG", "name":"千岛玉叶", "benefit":"美容养颜", "attribute":"绿茶"},
                        ],
                    },
                    {"id":"tea_02", "example": 0, "template": template_tea_TF1, "content":"下图所示的茶叶是否在茶叶目录中出现过？", "left": "是", "right": "否", "true":"2",
                        "pictures":[
                            {"src":"../resource/tea/莲心绿茶.JPG", "name":"莲心绿茶", "benefit":"保健养生", "attribute":"绿茶"},
                        ],
                    },
                    {"id":"tea_03", "example": 0, "template": template_tea_TF1, "content":"下图所示的茶叶是否在茶叶目录中出现过？", "left": "是", "right": "否", "true":"1",
                        "pictures":[
                            {"src":"../resource/tea/正山小种.JPG", "name":"正山小种", "benefit":"保健养生", "attribute":"红茶"},
                        ],
                    },
                    {"id":"tea_04", "example": 0, "template": template_tea_TF1, "content":"下图所示的茶叶是否在茶叶目录中出现过？", "left": "是", "right": "否", "true":"2",
                        "pictures":[
                            {"src":"../resource/tea/银骏眉.JPG", "name":"银骏眉", "benefit":"舒缓压力", "attribute":"红茶"},
                        ],
                    },
                    {"id":"tea_05", "example": 0, "template": template_tea_TF1, "content":"下图所示的茶叶是否在茶叶目录中出现过？", "left": "是", "right": "否", "true":"1",
                        "pictures":[
                            {"src":"../resource/tea/永春佛手.JPG", "name":"永春佛手", "benefit":"舒缓压力", "attribute":"青茶"},
                        ],
                    },
                    {"id":"tea_06", "example": 0, "template": template_tea_TF1, "content":"下图所示的茶叶是否在茶叶目录中出现过？", "left": "是", "right": "否", "true":"2",
                        "pictures":[
                            {"src":"../resource/tea/武夷大红袍.JPG", "name":"武夷大红袍", "benefit":"美容养颜", "attribute":"青茶"},
                        ],
                    },
                    {"id":"tea_07", "example": 0, "template": template_tea_TF1, "content":"下图所示的茶叶是否在茶叶目录中出现过？", "left": "是", "right": "否", "true":"1",
                        "pictures":[
                            {"src":"../resource/tea/苦丁茶.JPG", "name":"苦丁茶", "benefit":"减肥瘦身", "attribute":"花茶"},
                        ],
                    },
                    {"id":"tea_08", "example": 0, "template": template_tea_TF1, "content":"下图所示的茶叶是否在茶叶目录中出现过？", "left": "是", "right": "否", "true":"2",
                        "pictures":[
                            {"src":"../resource/tea/白芽奇兰.JPG", "name":"白芽奇兰", "benefit":"舒缓压力", "attribute":"花茶"},
                        ],
                    },
                    {"id":"tea_09", "example": 0, "template": template_tea_TF2, "content":"下图所示的2个茶叶中，<strong>哪一种茶叶</strong>在茶叶目录中出现过？(只有一个出现过)", "left": "左边这个", "right": "右边这个", "true":"1",
                        "pictures":[
                            {"src":"../resource/tea/六安瓜片.JPG", "name":"六安瓜片", "benefit":"减肥瘦身", "attribute":"绿茶"},
                            {"src":"../resource/tea/碧螺春.JPG", "name":"碧螺春", "benefit":"保健养生", "attribute":"绿茶"},
                        ],
                    },
                    {"id":"tea_10", "example": 0, "template": template_tea_TF2, "content":"下图所示的2个茶叶中，<strong>哪一种茶叶</strong>在茶叶目录中出现过？(只有一个出现过)", "left": "左边这个", "right": "右边这个", "true":"2",
                        "pictures":[
                            {"src":"../resource/tea/信阳毛尖.JPG", "name":"信阳毛尖", "benefit":"减肥瘦身", "attribute":"绿茶"},
                            {"src":"../resource/tea/狗牯脑茶.JPG", "name":"狗牯脑茶", "benefit":"保健养生", "attribute":"绿茶"},
                        ],
                    },
                    {"id":"tea_11", "example": 0, "template": template_tea_TF2, "content":"下图所示的2个茶叶中，<strong>哪一种茶叶</strong>在茶叶目录中出现过？(只有一个出现过)", "left": "左边这个", "right": "右边这个", "true":"1",
                        "pictures":[
                            {"src":"../resource/tea/信阳红.JPG", "name":"信阳红", "benefit":"保健养生", "attribute":"红茶"},
                            {"src":"../resource/tea/荔枝红.JPG", "name":"荔枝红", "benefit":"舒缓压力", "attribute":"红茶"},
                        ],
                    },
                    {"id":"tea_12", "example": 0, "template": template_tea_TF2, "content":"下图所示的2个茶叶中，<strong>哪一种茶叶</strong>在茶叶目录中出现过？(只有一个出现过)", "left": "左边这个", "right": "右边这个", "true":"2",
                        "pictures":[
                            {"src":"../resource/tea/九曲红梅.JPG", "name":"九曲红梅", "benefit":"舒缓压力", "attribute":"红茶"},
                            {"src":"../resource/tea/政和工夫.JPG", "name":"政和工夫", "benefit":"舒缓压力", "attribute":"红茶"},
                        ],
                    },
                    {"id":"tea_13", "example": 0, "template": template_tea_TF2, "content":"下图所示的2个茶叶中，<strong>哪一种茶叶</strong>在茶叶目录中出现过？(只有一个出现过)", "left": "左边这个", "right": "右边这个", "true":"1",
                        "pictures":[
                            {"src":"../resource/tea/水金龟.JPG", "name":"水金龟", "benefit":"舒缓压力", "attribute":"青茶"},
                            {"src":"../resource/tea/白鸡冠.JPG", "name":"白鸡冠", "benefit":"舒缓压力", "attribute":"青茶"},
                        ],
                    },
                    {"id":"tea_14", "example": 0, "template": template_tea_TF2, "content":"下图所示的2个茶叶中，<strong>哪一种茶叶</strong>在茶叶目录中出现过？(只有一个出现过)", "left": "左边这个", "right": "右边这个", "true":"2",
                        "pictures":[
                            {"src":"../resource/tea/凤凰水仙.JPG", "name":"凤凰水仙", "benefit":"舒缓压力", "attribute":"青茶"},
                            {"src":"../resource/tea/凤凰单枞.JPG", "name":"凤凰单枞", "benefit":"美容养颜", "attribute":"青茶"},
                        ],
                    },
                    {"id":"tea_15", "example": 0, "template": template_tea_TF2, "content":"下图所示的2个茶叶中，<strong>哪一种茶叶</strong>在茶叶目录中出现过？(只有一个出现过)", "left": "左边这个", "right": "右边这个", "true":"1",
                        "pictures":[
                            {"src":"../resource/tea/黄山贡菊.JPG", "name":"黄山贡菊", "benefit":"美容养颜", "attribute":"花茶"},
                            {"src":"../resource/tea/武夷肉桂.JPG", "name":"武夷肉桂", "benefit":"美容养颜", "attribute":"花茶"},
                        ],
                    },
                    {"id":"tea_16", "example": 0, "template": template_tea_TF2, "content":"下图所示的2个茶叶中，<strong>哪一种茶叶</strong>在茶叶目录中出现过？(只有一个出现过)", "left": "左边这个", "right": "右边这个", "true":"2",
                        "pictures":[
                            {"src":"../resource/tea/径山茶.JPG", "name":"径山茶", "benefit":"美容养颜", "attribute":"花茶"},
                            {"src":"../resource/tea/杭白菊.JPG", "name":"杭白菊", "benefit":"保健养生", "attribute":"花茶"},
                        ],
                    },
                ],
            ],
        };


        var config_shampoo = {
            "name": "shampoo",
            "product1":[
                [0, "../resource/shampoo/ALTERNA-αD.png", "海洋味", "丝滑水润", "不含硅油，无防腐剂添加，不含硫酸盐","提神醒脑，清心明目","1"],
                [0, "../resource/shampoo/ALTERNA-βD.png", "柠檬香", "丝滑水润","不含硅油，无防腐剂添加，不含硫酸盐", "消脂减肥，促进消化","6"],
                [0, "../resource/shampoo/ALTERNA-γD.png", "迷迭香", "丝滑水润","不含硅油，无防腐剂添加，不含硫酸盐", "好喝，身心愉悦","11"],
                [0, "../resource/shampoo/ALTERNA-δD.png", "松木香", "丝滑水润", "不含硅油，无防腐剂添加，不含硫酸盐", "好喝，身心愉悦","16"],
                [0, "../resource/shampoo/ALTERNA-ωF.png", "海洋味", "丝滑水润", "不含硅油，无防腐剂添加，不含硫酸盐","抗老，防癌，养颜，抗菌","5"],
            ],

            "product2":[
                [0, "../resource/shampoo/ALTERNA-αG.png", "海洋味", "防晒锁色", "不含硅油，无防腐剂添加，不含硫酸盐","消脂减脂，净化肠胃","2"],
                [0, "../resource/shampoo/ALTERNA-βG.png", "柠檬香", "防晒锁色","不含硅油，无防腐剂添加，不含硫酸盐", "降压降脂，清热消暑","7"],
                [0, "../resource/shampoo/ALTERNA-γG.png", "迷迭香", "防晒锁色","不含硅油，无防腐剂添加，不含硫酸盐", "改善皮肤敏感溃烂，延缓衰老","12"],
                [0, "../resource/shampoo/ALTERNA-δG.png", "松木香", "防晒锁色", "不含硅油，无防腐剂添加，不含硫酸盐", "利尿排毒，强壮骨骼，护心养胃","17"],
                [0, "../resource/shampoo/ALTERNA-ωK.png", "柠檬香", "防晒锁色","不含硅油，无防腐剂添加，不含硫酸盐", "清热解毒，消食醒酒","10"], 
            ],
            "product3":[
                [0, "../resource/shampoo/ALTERNA-αH.png", "海洋味", "清爽控油", "不含硅油，无防腐剂添加，不含硫酸盐","降低血脂，防癌抗癌，抗菌消炎","3"],
                [0, "../resource/shampoo/ALTERNA-βH.png", "柠檬香", "清爽控油","不含硅油，无防腐剂添加，不含硫酸盐", "护肤美容，排毒护肝","8"],
                [0, "../resource/shampoo/ALTERNA-γH.png", "迷迭香", "清爽控油","不含硅油，无防腐剂添加，不含硫酸盐", "美白抗氧化，醒酒敌烟","13"],
                [0, "../resource/shampoo/ALTERNA-δH.png", "松木香", "清爽控油", "不含硅油，无防腐剂添加，不含硫酸盐", "好喝，身心愉悦","18"],
                [0, "../resource/shampoo/ALTERNA-ωN.png", "迷迭香", "清爽控油","不含硅油，无防腐剂添加，不含硫酸盐", "好喝，身心愉悦","15"],
            ],
            "product4":[
                [0, "../resource/shampoo/ALTERNA-αJ.png", "海洋味", "强效修护", "不含硅油，无防腐剂添加，不含硫酸盐","促进血液循环，松弛平滑肌","4"],
                [0, "../resource/shampoo/ALTERNA-βJ.png", "柠檬香", "强效修护","不含硅油，无防腐剂添加，不含硫酸盐", "清热解毒，消食醒酒","9"],
                [0, "../resource/shampoo/ALTERNA-γJ.png", "迷迭香", "强效修护","不含硅油，无防腐剂添加，不含硫酸盐", "耐泡，好喝","14"],
                [0, "../resource/shampoo/ALTERNA-δJ.png", "松木香", "强效修护", "不含硅油，无防腐剂添加，不含硫酸盐", "好喝，身心愉悦","19"],
                [0, "../resource/shampoo/ALTERNA-ωS.png", "松木香", "强效修护", "不含硅油，无防腐剂添加，不含硫酸盐", "消炎杀菌，利尿解毒","20"],
            ],
        };

        var choose_shampoo =  {
            "current": 0,
            "names": [
                "ALTERNA-αD",
                "ALTERNA-βG",
                "ALTERNA-γH",
                "ALTERNA-δJ",
            ]
        };


        var question_shampoo = {
            "questions":[
                {"id":"construal_0", "example": 1, "template": template_9_example, "content":"例题：小明买了一张彩票，他中奖的可能性有多大？", "left": "非常不可能", "right": "非常可能"},
                {"id":"construal_1", "example": 0, "template": template_9, "content":"Jeff正在考虑周末去拜访一个朋友。他去拜访的可能性有多大？", "left": "非常不可能", "right": "非常可能"},
                {"id":"construal_2", "example": 0, "template": template_9, "content":"Mary正在考虑给自己买一双新鞋。她买的可能性有多大？", "left": "非常不可能", "right": "非常可能"},
                {"id":"construal_3", "example": 0, "template": template_9, "content":"Diko正在查看某一天的天气预报。那天下雨的可能性有多大？", "left": "非常不可能", "right": "非常可能"},
                {"id":"construal_4", "example": 0, "template": template_9, "content":"Akemy打算去超市买洗发水。该商品降价的可能性有多大？", "left": "非常不可能", "right": "非常可能"},
                {"id":"construal_5", "example": 0, "template": template_9, "content":"Andy正在决定要不要举办一个新居乔迁宴会。她举办的可能性有多大？", "left": "非常不可能", "right": "非常可能"},
                {"id":"construal_6", "example": 0, "template": template_9, "content":"Rob主修哲学，正在考虑上法律学院。她向法律学院发出申请的可能性有多大？", "left": "非常不可能", "right": "非常可能"},
                {"id":"shampoo7", "example": 0, "template": template_7, "content":"总的来说，你认为ALTERNA提供的这些洗发水产品之间有多相似？", "left": "完全不相似", "right": "非常相似"},
                {"id":"shampoo8", "example": 0, "template": template_9_dyh, "content":"ALTERNA为我提供了多样化的选择", "left": "非常不符合", "right": "非常符合"},
                {"id":"shampoo9", "example": 0, "template": template_9_dyh, "content":"在完成选择任务之时, 我感觉有较多的可选产品", "left": "非常不符合", "right": "非常符合"},
                {"id":"shampoo10", "example": 0, "template": template_4, "content":"我感觉难以挑选出自己偏好的一款洗发水", "left": "非常不符合", "right": "非常符合"},
                {"id":"shampoo11", "example": 0, "template": template_4, "content":"我感觉完成洗发水挑选的任务是困难的", "left": "非常不符合", "right": "非常符合"},
                {"id":"shampoo12", "example": 0, "template": template_4, "content":"我感觉完成洗发水挑选的任务需要耗费精力", "left": "非常不符合", "right": "非常符合"},
                {"id":"shampoo13", "example": 0, "template": template_4, "content":"我感觉完成洗发水挑选的任务需要进行较多的思考", "left": "非常不符合", "right": "非常符合"},
                {"id":"shampoo14", "example": 0, "template": template_4, "content":"我感觉完成洗发水挑选的任务花费了较长的时间", "left": "非常不符合", "right": "非常符合"},
                {"id":"shampoo15", "example": 0, "template": template_4, "content":"我之前了解ALTERNA这个品牌", "left": "非常不符合", "right": "非常符合"},
                {"id":"shampoo16", "example": 0, "template": template_4, "content":"我了解洗发水知识", "left": "非常不符合", "right": "非常符合"},
            ],
        };

        var test_shampoo = {
            // 问卷的第一张控件, 图片: TF_pic1, 名称 TF_name1, TF_benefit1, TF_attribute1,
            "tests":[
                [
                    {"id":"shampoo_00", "example": 1, "template": template_shampoo_TF1_example, "content":"例题：下图所示的产品是否在洗发水目录中出现过？", "left": "是", "right": "否", "true":"2",
                        "pictures":[
                            {"src":"../resource/shampoo/ALTERNA-elegant.png", "name":"ALTERNA-elegant", "benefit":"滋养发根", "attribute":"薰衣草"},
                        ],
                    },
                ],
                [
                    {"id":"shampoo_01", "example": 0, "template": template_shampoo_TF1, "content":"下图所示的产品是否在洗发水目录中出现过？", "left": "是", "right": "否", "true":"1",
                        "pictures":[
                            {"src":"../resource/shampoo/ALTERNA-αD.png", "name":"ALTERNA-αD", "benefit":"丝滑水润", "attribute":"海洋味"},
                        ],
                    },
                    {"id":"shampoo_02", "example": 0, "template": template_shampoo_TF1, "content":"下图所示的产品是否在洗发水目录中出现过？", "left": "是", "right": "否", "true":"2",
                        "pictures":[
                            {"src":"../resource/shampoo/miss1/ALTERNA-αB.png", "name":"ALTERNA-αB", "benefit":"防晒锁色", "attribute":"阳光味"},
                        ],
                    },
                    {"id":"shampoo_03", "example": 0, "template": template_shampoo_TF1, "content":"下图所示的产品是否在洗发水目录中出现过？", "left": "是", "right": "否", "true":"1",
                        "pictures":[
                            {"src":"../resource/shampoo/ALTERNA-βG.png", "name":"ALTERNA-βG", "benefit":"防晒锁色", "attribute":"柠檬香"},
                        ],
                    },
                    {"id":"shampoo_04", "example": 0, "template": template_shampoo_TF1, "content":"下图所示的产品是否在洗发水目录中出现过？", "left": "是", "right": "否", "true":"2",
                        "pictures":[
                            {"src":"../resource/shampoo/miss1/ALTERNA-γP.png", "name":"ALTERNA-γP", "benefit":"清爽控油", "attribute":"甜橙香"},
                        ],
                    }, 
                    {"id":"shampoo_05", "example": 0, "template": template_shampoo_TF1, "content":"下图所示的产品是否在洗发水目录中出现过？", "left": "是", "right": "否", "true":"1",
                        "pictures":[
                            {"src":"../resource/shampoo/ALTERNA-γH.png", "name":"ALTERNA-γH", "benefit":"清爽控油", "attribute":"迷迭香"},
                        ],
                    },
                    {"id":"shampoo_06", "example": 0, "template": template_shampoo_TF1, "content":"下图所示的产品是否在洗发水目录中出现过？", "left": "是", "right": "否", "true":"2",
                        "pictures":[
                            {"src":"../resource/shampoo/miss1/ALTERNA-δY.png", "name":"ALTERNA-δY", "benefit":"强效修护", "attribute":"百里香"},
                        ],
                    }, 
                    {"id":"shampoo_07", "example": 0, "template": template_shampoo_TF1, "content":"下图所示的产品是否在洗发水目录中出现过？", "left": "是", "right": "否", "true":"1",
                        "pictures":[
                            {"src":"../resource/shampoo/ALTERNA-δJ.png", "name":"ALTERNA-δJ", "benefit":"强效修护", "attribute":"松木香"},
                        ],
                    },
                    {"id":"shampoo_08", "example": 0, "template": template_shampoo_TF1, "content":"下图所示的产品是否在洗发水目录中出现过？", "left": "是", "right": "否", "true":"2",
                        "pictures":[
                            {"src":"../resource/shampoo/miss1/ALTERNA-βB.png", "name":"ALTERNA-βB", "benefit":"丝滑水润", "attribute":"樟树香"},
                        ],
                    },
                    {"id":"shampoo_09", "example": 0, "template": template_shampoo_TF1, "content":"下图所示的产品是否在洗发水目录中出现过？", "left": "是", "right": "否", "true":"1",
                        "pictures":[
                            {"src":"../resource/shampoo/ALTERNA-αG.png", "name":"ALTERNA-αG", "benefit":"防晒锁色", "attribute":"海洋味"},
                        ],
                    },
                    {"id":"shampoo_10", "example": 0, "template": template_shampoo_TF1, "content":"下图所示的产品是否在洗发水目录中出现过？", "left": "是", "right": "否", "true":"2",
                        "pictures":[
                            {"src":"../resource/shampoo/miss1/ALTERNA-αF.png", "name":"ALTERNA-αF", "benefit":"丰盈蓬松", "attribute":"海洋味"},
                        ],
                    },
                    {"id":"shampoo_11", "example": 0, "template": template_shampoo_TF1, "content":"下图所示的产品是否在洗发水目录中出现过？", "left": "是", "right": "否", "true":"1",
                        "pictures":[
                            {"src":"../resource/shampoo/ALTERNA-βH.png", "name":"ALTERNA-βH", "benefit":"清爽控油", "attribute":"柠檬香"},
                        ],
                    },
                    {"id":"shampoo_12", "example": 0, "template": template_shampoo_TF1, "content":"下图所示的产品是否在洗发水目录中出现过？", "left": "是", "right": "否", "true":"2",
                        "pictures":[
                            {"src":"../resource/shampoo/miss1/ALTERNA-βK.png", "name":"ALTERNA-βK", "benefit":"改善毛躁", "attribute":"柠檬香"},
                        ],
                    },
                    {"id":"shampoo_13", "example": 0, "template": template_shampoo_TF1, "content":"下图所示的产品是否在洗发水目录中出现过？", "left": "是", "right": "否", "true":"1",
                        "pictures":[
                            {"src":"../resource/shampoo/ALTERNA-γJ.png", "name":"ALTERNA-γJ", "benefit":"强效修护", "attribute":"迷迭香"},
                        ],
                    },
                    {"id":"shampoo_14", "example": 0, "template": template_shampoo_TF1, "content":"下图所示的产品是否在洗发水目录中出现过？", "left": "是", "right": "否", "true":"2",
                        "pictures":[
                            {"src":"../resource/shampoo/miss1/ALTERNA-γN.png", "name":"ALTERNA-γN", "benefit":"防脱固发", "attribute":"迷迭香"},
                        ],
                    },                    
                    {"id":"shampoo_15", "example": 0, "template": template_shampoo_TF1, "content":"下图所示的产品是否在洗发水目录中出现过？", "left": "是", "right": "否", "true":"1",
                        "pictures":[
                            {"src":"../resource/shampoo/ALTERNA-δD.png", "name":"ALTERNA-δD", "benefit":"丝滑水润", "attribute":"松木香"},
                        ],
                    },
                    {"id":"shampoo_16", "example": 0, "template": template_shampoo_TF1, "content":"下图所示的产品是否在洗发水目录中出现过？", "left": "是", "right": "否", "true":"2",
                        "pictures":[
                            {"src":"../resource/shampoo/miss1/ALTERNA-δS.png", "name":"ALTERNA-δS", "benefit":"柔顺亮泽", "attribute":"松木香"},
                        ],
                    },  
                ],
            ],
        };


        var config_brush = { 
            "name": "brush",
            "product1":[//健康清洁
                [0, "../resource/brush/GOVINO-αD.png", "电动喷雾型", "健康清洁", "个性化辅导，精锐感知科技，智能刷头感应","延缓衰老，防癌抗癌","1"],
                [0, "../resource/brush/GOVINO-βD.png", "声波振动型", "健康清洁", "个性化辅导，精锐感知科技，智能刷头感应", "好喝，身心愉悦","6"],
                [0, "../resource/brush/GOVINO-γD.png", "机械转动型", "健康清洁","个性化辅导，精锐感知科技，智能刷头感应", "好喝，身心愉悦","11"],
                [0, "../resource/brush/GOVINO-δD.png", "超声波型", "健康清洁","个性化辅导，精锐感知科技，智能刷头感应", "好喝，身心愉悦","16"],
                [0, "../resource/brush/GOVINO-ωF.png", "电动喷雾型", "健康清洁", "个性化辅导，精锐感知科技，智能刷头感应","促进血液循环，松弛平滑肌","5"],
            ],
            "product2":[//抗敏护龈
                [0, "../resource/brush/GOVINO-αG.png", "电动喷雾型", "抗敏护龈", "个性化辅导，精锐感知科技，智能刷头感应","提神醒脑，清心明目","2"],
                [0, "../resource/brush/GOVINO-βG.png", "声波振动型", "抗敏护龈", "个性化辅导，精锐感知科技，智能刷头感应", "利尿排毒，强壮骨骼，护心养胃","7"],
                [0, "../resource/brush/GOVINO-γG.png", "机械转动型", "抗敏护龈","个性化辅导，精锐感知科技，智能刷头感应", "好喝，身心愉悦","12"],
                [0, "../resource/brush/GOVINO-δG.png", "超声波型", "抗敏护龈","个性化辅导，精锐感知科技，智能刷头感应", "消脂减肥，促进消化","17"],
                [0, "../resource/brush/GOVINO-ωK.png", "声波振动型", "抗敏护龈", "个性化辅导，精锐感知科技，智能刷头感应", "好喝，身心愉悦","10"],
            ],
            "product3":[//杀菌祛斑
                [0, "../resource/brush/GOVINO-αH.png", "电动喷雾型", "杀菌祛斑", "个性化辅导，精锐感知科技，智能刷头感应","消脂减脂，净化肠胃","3"],
                [0, "../resource/brush/GOVINO-βH.png", "声波振动型", "杀菌祛斑", "个性化辅导，精锐感知科技，智能刷头感应", "好喝，身心愉悦","8"],
                [0, "../resource/brush/GOVINO-γH.png", "机械转动型", "杀菌祛斑","个性化辅导，精锐感知科技，智能刷头感应", "改善皮肤敏感溃烂，延缓衰老","13"],
                [0, "../resource/brush/GOVINO-δH.png", "超声波型", "杀菌祛斑","个性化辅导，精锐感知科技，智能刷头感应", "降压降脂，清热消暑","18"],
                [0, "../resource/brush/GOVINO-ωN.png", "机械转动型", "杀菌祛斑","个性化辅导，精锐感知科技，智能刷头感应", "耐泡，好喝","15"],
            ],
            "product4":[//深层美白
                [0, "../resource/brush/GOVINO-αJ.png", "电动喷雾型", "深层美白", "个性化辅导，精锐感知科技，智能刷头感应","降低血脂，防癌抗癌，抗菌消炎","4"],
                [0, "../resource/brush/GOVINO-βJ.png", "声波振动型", "深层美白", "个性化辅导，精锐感知科技，智能刷头感应", "好喝，身心愉悦","9"],
                [0, "../resource/brush/GOVINO-γJ.png", "机械转动型", "深层美白","个性化辅导，精锐感知科技，智能刷头感应", "美白抗氧化，醒酒敌烟","14"],
                [0, "../resource/brush/GOVINO-δJ.png", "超声波型", "深层美白","个性化辅导，精锐感知科技，智能刷头感应", "护肤美容，排毒护肝","19"],
                [0, "../resource/brush/GOVINO-ωS.png", "超声波型", "深层美白","个性化辅导，精锐感知科技，智能刷头感应", "清热解毒，消食醒酒","20"],
            ],
        };

        var choose_brush =  {
            "current": 0,
            "names": [
                "GOVINO-αD",
                "GOVINO-βG",
                "GOVINO-γH",
                "GOVINO-δJ",
            ]
        };


        var question_brush = {
            "questions":[
                {"id":"construal_0", "example": 1, "template": template_9_example, "content":"例题：小明买了一张彩票，他中奖的可能性有多大？", "left": "非常不可能", "right": "非常可能"},
                {"id":"construal_1", "example": 0, "template": template_9, "content":"Lee正在考虑是否参加一个美食烹饪培训课。他报名的可能性有多大？", "left": "非常不可能", "right": "非常可能"},
                {"id":"construal_2", "example": 0, "template": template_9, "content":"Charley正在考虑给自己买一件外套。他买的可能性有多大？", "left": "非常不可能", "right": "非常可能"},
                {"id":"construal_3", "example": 0, "template": template_9, "content":"Nube刚刚收到一条短信。她收到垃圾短信的可能性有多大？", "left": "非常不可能", "right": "非常可能"},
                {"id":"construal_4", "example": 0, "template": template_9, "content":"Alex打算进行一次全国公路越野旅行。他途中遇到老乡的可能性有多大？", "left": "非常不可能", "right": "非常可能"},
                {"id":"construal_5", "example": 0, "template": template_9, "content":"Gataka正在候机。这趟飞机晚点的可能性有多大？", "left": "非常不可能", "right": "非常可能"},
                {"id":"construal_6", "example": 0, "template": template_9, "content":"Kaila每天自己开车上下班。她的车发生碰撞的可能性有多大？", "left": "非常不可能", "right": "非常可能"},
                {"id":"similarity", "example": 0, "template": template_7, "content":"总的来说，你认为GOVINO提供的这些电动牙刷之间有多相似？", "left": "完全不相似", "right": "非常相似"},
                {"id":"variety_1", "example": 0, "template": template_9_dyh, "content":"GOVINO为我提供了多样化的选择", "left": "非常不符合", "right": "非常符合"},
                {"id":"variety_2", "example": 0, "template": template_9_dyh, "content":"在完成选择任务之时, 我感觉有较多的可选产品", "left": "非常不符合", "right": "非常符合"},
                {"id":"difficulty_1", "example": 0, "template": template_4, "content":"我感觉难以挑选出自己偏好的一款电动牙刷", "left": "非常不符合", "right": "非常符合"},
                {"id":"difficulty_2", "example": 0, "template": template_4, "content":"我感觉完成电动牙刷挑选的任务是困难的", "left": "非常不符合", "right": "非常符合"},
                {"id":"difficulty_3", "example": 0, "template": template_4, "content":"我感觉完成电动牙刷挑选的任务需要耗费精力", "left": "非常不符合", "right": "非常符合"},
                {"id":"difficulty_4", "example": 0, "template": template_4, "content":"我感觉完成电动牙刷挑选的任务需要进行较多的思考", "left": "非常不符合", "right": "非常符合"},
                {"id":"difficulty_5", "example": 0, "template": template_4, "content":"我感觉完成电动牙刷挑选的任务花费了较长的时间", "left": "非常不符合", "right": "非常符合"},
                {"id":"brandFamiliarity", "example": 0, "template": template_4, "content":"我之前了解GOVINO这个品牌", "left": "非常不符合", "right": "非常符合"},
                {"id":"productFamiliarity", "example": 0, "template": template_4, "content":"我了解关于电动牙刷的知识", "left": "非常不符合", "right": "非常符合"},
            ],

        };

        var test_brush = {
            // 问卷的第一张控件, 图片: TF_pic1, 名称 TF_name1, TF_benefit1, TF_attribute1,
            "tests":[
                [
                    {"id":"brush_00", "example": 1, "template": template_brush_TF1_example, "content":"例题：下图所示的牙刷是否在牙刷目录中出现过？", "left": "是", "right": "否", "true":"2",
                        "pictures":[
                            {"src":"../resource/brush/GOVINO-SE.png", "name":"GOVINO-SE", "benefit":"牙龈按摩", "attribute":"智能变频型"},
                        ],
                    },
                ],
                [
                    {"id":"brush_01", "example": 0, "template": template_brush_TF1, "content":"下图所示的牙刷是否在牙刷目录中出现过？", "left": "是", "right": "否", "true":"1",
                        "pictures":[
                            {"src":"../resource/brush/GOVINO-αD.png", "name":"GOVINO-αD", "benefit":"健康清洁", "attribute":"电动喷雾型"},
                        ],
                    },
                    {"id":"brush_02", "example": 0, "template": template_brush_TF1, "content":"下图所示的牙刷是否在牙刷目录中出现过？", "left": "是", "right": "否", "true":"2",
                        "pictures":[
                            {"src":"../resource/brush/miss1/GOVINO-βB.png", "name":"GOVINO-βB", "benefit":"抗敏护龈", "attribute":"蓝牙充电型"},
                        ],
                    },
                    {"id":"brush_03", "example": 0, "template": template_brush_TF1, "content":"下图所示的牙刷是否在牙刷目录中出现过？", "left": "是", "right": "否", "true":"1",
                        "pictures":[
                            {"src":"../resource/brush/GOVINO-βG.png", "name":"GOVINO-βG", "benefit":"抗敏护龈", "attribute":"声波振动型"},
                        ],
                    },
                    {"id":"brush_04", "example": 0, "template": template_brush_TF1, "content":"下图所示的牙刷是否在牙刷目录中出现过？", "left": "是", "right": "否", "true":"2",
                        "pictures":[
                            {"src":"../resource/brush/miss1/GOVINO-γP.png", "name":"GOVINO-γP", "benefit":"杀菌祛斑", "attribute":"无级变频型"},
                        ],
                    }, 
                    {"id":"brush_05", "example": 0, "template": template_brush_TF1, "content":"下图所示的牙刷是否在牙刷目录中出现过？", "left": "是", "right": "否", "true":"1",
                        "pictures":[
                            {"src":"../resource/brush/GOVINO-γH.png", "name":"GOVINO-γH", "benefit":"杀菌祛斑", "attribute":"机械转动型"},
                        ],
                    },
                    {"id":"brush_06", "example": 0, "template": template_brush_TF1, "content":"下图所示的牙刷是否在牙刷目录中出现过？", "left": "是", "right": "否", "true":"2",
                        "pictures":[
                            {"src":"../resource/brush/miss1/GOVINO-δY.png", "name":"GOVINO-δY", "benefit":"深层美白", "attribute":"2D声波型"},
                        ],
                    }, 
                    {"id":"brush_07", "example": 0, "template": template_brush_TF1, "content":"下图所示的牙刷是否在牙刷目录中出现过？", "left": "是", "right": "否", "true":"1",
                        "pictures":[
                            {"src":"../resource/brush/GOVINO-δJ.png", "name":"GOVINO-δJ", "benefit":"深层美白", "attribute":"超声波型"},
                        ],
                    },
                    {"id":"brush_08", "example": 0, "template": template_brush_TF1, "content":"下图所示的牙刷是否在牙刷目录中出现过？", "left": "是", "right": "否", "true":"2",
                        "pictures":[
                            {"src":"../resource/brush/miss1/GOVINO-αB.png", "name":"GOVINO-αB", "benefit":"健康清洁", "attribute":"3D声波型"},
                        ],
                    },
                    {"id":"brush_09", "example": 0, "template": template_brush_TF1, "content":"下图所示的牙刷是否在牙刷目录中出现过？", "left": "是", "right": "否", "true":"1",
                        "pictures":[
                            {"src":"../resource/brush/GOVINO-αG.png", "name":"GOVINO-αG", "benefit":"抗敏护龈", "attribute":"电动喷雾型"},
                        ],
                    },
                    {"id":"brush_10", "example": 0, "template": template_brush_TF1, "content":"下图所示的牙刷是否在牙刷目录中出现过？", "left": "是", "right": "否", "true":"2",
                        "pictures":[
                            {"src":"../resource/brush/miss1/GOVINO-αF.png", "name":"GOVINO-αF", "benefit":"柔软护龈", "attribute":"电动喷雾型"},
                        ],
                    },
                    {"id":"brush_11", "example": 0, "template": template_brush_TF1, "content":"下图所示的牙刷是否在牙刷目录中出现过？", "left": "是", "right": "否", "true":"1",
                        "pictures":[
                            {"src":"../resource/brush/GOVINO-βH.png", "name":"GOVINO-βH", "benefit":"杀菌祛斑", "attribute":"声波振动型"},
                        ],
                    },
                    {"id":"brush_12", "example": 0, "template": template_brush_TF1, "content":"下图所示的牙刷是否在牙刷目录中出现过？", "left": "是", "right": "否", "true":"2",
                        "pictures":[
                            {"src":"../resource/brush/miss1/GOVINO-βK.png", "name":"GOVINO-βK", "benefit":"精准去渍", "attribute":"声波振动型"},
                        ],
                    },
                    {"id":"brush_13", "example": 0, "template": template_brush_TF1, "content":"下图所示的牙刷是否在牙刷目录中出现过？", "left": "是", "right": "否", "true":"1",
                        "pictures":[
                            {"src":"../resource/brush/GOVINO-γJ.png", "name":"GOVINO-γJ", "benefit":"深层美白", "attribute":"机械转动型"},
                        ],
                    },
                    {"id":"brush_14", "example": 0, "template": template_brush_TF1, "content":"下图所示的牙刷是否在牙刷目录中出现过？", "left": "是", "right": "否", "true":"2",
                        "pictures":[
                            {"src":"../resource/brush/miss1/GOVINO-γN.png", "name":"GOVINO-γN", "benefit":"强力清洁", "attribute":"声波振动型"},
                        ],
                    },                    
                    {"id":"brush_15", "example": 0, "template": template_brush_TF1, "content":"下图所示的牙刷是否在牙刷目录中出现过？", "left": "是", "right": "否", "true":"1",
                        "pictures":[
                            {"src":"../resource/brush/GOVINO-δD.png", "name":"GOVINO-δD", "benefit":"健康清洁", "attribute":"超声波型"},
                        ],
                    },
                    {"id":"brush_16", "example": 0, "template": template_brush_TF1, "content":"下图所示的牙刷是否在牙刷目录中出现过？", "left": "是", "right": "否", "true":"2",
                        "pictures":[
                            {"src":"../resource/brush/miss1/GOVINO-δS.png", "name":"GOVINO-δS", "benefit":"防水静音", "attribute":"超声波型"},
                        ],
                    },  
                ],
            ],
        };
        

        var product_config = config_tea;
        var product_question = question_tea;
        var product_choose = choose_tea;
        var product_test = test_tea;


    </script>
    <script type="text/javascript" src="../common/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="../common/FileSaver.js"></script>
    <script type="text/javascript" src="page_introduction.js"></script>

    <script type="text/javascript" src="page_teach_preview.js"></script>
    <script type="text/javascript" src="page_teach_menu.js"></script>
    <script type="text/javascript" src="page_teach_product.js"></script>
    <script type="text/javascript" src="page_teach_transition.js"></script>

    <script type="text/javascript" src="page_choose_preview.js"></script>

    <script type="text/javascript" src="page_tea_introduction.js"></script>
    <script type="text/javascript" src="page_tea_task.js"></script>
    <script type="text/javascript" src="page_tea_menu.js"></script>
    <script type="text/javascript" src="page_tea_product.js"></script>
    <script type="text/javascript" src="page_tea_choose_menu.js"></script>
    <script type="text/javascript" src="page_tea_choose_product.js"></script>

    <script type="text/javascript" src="page_shampoo_introduction.js"></script>
    <script type="text/javascript" src="page_shampoo_task.js"></script>
    <script type="text/javascript" src="page_shampoo_menu.js"></script>
    <script type="text/javascript" src="page_shampoo_product.js"></script>
    <script type="text/javascript" src="page_shampoo_choose_menu.js"></script>
    <script type="text/javascript" src="page_shampoo_choose_product.js"></script>

    <script type="text/javascript" src="page_brush_introduction.js"></script>
    <script type="text/javascript" src="page_brush_task.js"></script>
    <script type="text/javascript" src="page_brush_menu.js"></script>
    <script type="text/javascript" src="page_brush_product.js"></script>
    <script type="text/javascript" src="page_brush_choose_menu.js"></script>
    <script type="text/javascript" src="page_brush_choose_product.js"></script>

    <script type="text/javascript" src="page_question.js"></script>
    <script type="text/javascript" src="page_phrase_transition.js"></script>
    <script type="text/javascript" src="page_final_submit.js"></script>


    <style>
        body, div, ul, li, a, p, span, select, input, option {
            margin: 0;
            padding: 0;
            font-family: "Microsoft Yahei";
            text-align: justify;
        }

         body, div, ul, li, a, p, span {
             border: 0;         
         }
       

        a {
            text-decoration: none;
        }

        .shampoo_main_menu a:link, .shampoo_main_menu a:visited {
            color:#FFFFFF; 
        }
        .shampoo_main_menu a:hover, .shampoo_main_menu a:active {
            color:#808080; 
        }

        .shampoo_main_menu .line {
            font-size: 50px; 
            font-weight: 100; 
            font-family: "NSimSun";
        }

        .shampoo_left_menu a{
            font-size: 30px;
        }

        .shampoo_left_menu a:link, .shampoo_left_menu a:visited {
            color: #262626; 
        }
        .shampoo_left_menu a:hover, .shampoo_left_menu a:active {
            color: #999999; 
        }

        a:link, a:visited {
            color: black; 
        }
        a:hover, a:active {
            color: #999999; 
        }


        .brush_main_menu a:link, .brush_main_menu a:visited {
            color:#000000; 
        }
        .brush_main_menu a:hover, .brush_main_menu a:active {
            color:#005a8e; 
        }

        .brush_main_menu .line {
            font-size: 50px; 
            font-weight: 100; 
            font-family: "NSimSun";
            color: #89827b;
        }

        .brush_left_menu a{
            font-size: 30px;
        }

        .brush_left_menu a:link, .brush_left_menu a:visited {
            color: #262626; 
        }
        .brush_left_menu a:hover, .brush_left_menu a:active {
            color: #999999; 
        }

        a:link, a:visited {
            color: black; 
        }
        a:hover, a:active {
            color: #999999; 
        }

        #tea_main_menu li {
            float: left;
        }

        #tea_main_menu li a {
            display:block; 
            background: url(../resource/menu5.png);
            overflow: hidden;
            transition: all 0.2s ease;
        }

        #tea_main_menu li.i1, li.i1 a {
            width: 150px; 
            height: 133px;
        }

        #tea_main_menu li.i2, li.i2 a  {
            width: 167px; 
            height: 133px;
        }

        #tea_main_menu li a.a1 {background-position: 0 0;}
        
        #tea_main_menu li a.a1:hover {background-position: 0 -133px;}

        #tea_main_menu li a.a2 {background-position: -150px 0;}

        #tea_main_menu li a.a2:hover {background-position: -150px -133px;}

        #tea_main_menu li a.a3 {background-position: -317px 0;}

        #tea_main_menu li a.a3:hover {background-position: -317px -133px;}

        #tea_main_menu li a.a4 {background-position: -484px 0;}

        #tea_main_menu li a.a4:hover {background-position: -484px -133px;}

        #tea_left_menu li a {
            display:block;
            background: url(../resource/menu6.png);
            overflow: hidden;
            transition: all 0.2s ease;
        }

        #tea_left_menu li.i1, #tea_left_menu li.i1 a {
            width: 133px;
            height: 133px;
        }

        #tea_left_menu li.i2, #tea_left_menu li.i2 a  {
            width: 133px;
            height: 133px;
        }

        #tea_left_menu li a.a1 {background-position: 0 0;}

        #tea_left_menu li a.a1:hover {background-position: -133px 0;}

        #tea_left_menu li a.a2 {background-position: 0 -133px;}

        #tea_left_menu li a.a2:hover {background-position: -133px -133px;}

        #tea_left_menu li a.a3 {background-position: 0 -266px;}

        #tea_left_menu li a.a3:hover {background-position: -133px -266px;}

        #tea_left_menu li a.a4 {background-position: 0 -399px;}

        #tea_left_menu li a.a4:hover {background-position: -133px -399px;}

        .TF_radio_box input { 
            display: none; 
        }

        .TF_radio_box label{
            display: inline-block;
            content: "";
            width: 15px;
            height: 15px;
/*          border-radius: 50%;*/
            border:2px solid #ef4949;
            background: #fff;
            cursor:pointer;
        }


        .TF_radio_box input:checked + label:after { 
            display: inline-block; 
            float: left;
            content:""; 
            width: 9px; 
            height: 9px; 
            position: relative;
            top: 3px;
            left: 3px;
            background: #ef4949; 
/*          border-radius: 50%;*/
        }

    </style>

</head>
<body>
</body>

<script type="text/javascript">

    var teach_answer = "月季花";

    var teach_choice = {
        "start_time": new Date(),
        "end_time": new Date(),
        "spend_time": 0,
        "product1": [
            [0, "../resource/teach/水仙.JPG", "草本植物", "", ""],
            [0, "../resource/teach/菊花.JPG", "草本植物", "", ""],
            [0, "../resource/teach/牡丹.JPG", "草本植物", "", ""],
            [0, "../resource/teach/紫罗兰.JPG", "草本植物", "", ""],
            [0, "../resource/teach/郁金香.JPG", "草本植物", "", ""],
        ],
        "product2": [
            [0, "../resource/teach/浮萍.JPG", "水生植物", "", ""],
            [0, "../resource/teach/碗莲.JPG", "水生植物", "", ""],
            [0, "../resource/teach/鸢尾.JPG", "水生植物", "", ""],
            [0, "../resource/teach/马蹄莲.JPG", "水生植物", "", ""],
            [0, "../resource/teach/水葫芦.JPG", "水生植物", "", ""],
        ],
        "product3": [
            [0, "../resource/teach/梅花.JPG", "木本植物", "", ""],
            [0, "../resource/teach/桂花.JPG", "木本植物", "", ""],
            [0, "../resource/teach/月季花.JPG", "木本植物", "", ""],
            [0, "../resource/teach/茉莉花.JPG", "木本植物", "", ""],
            [0, "../resource/teach/栀子花.JPG", "木本植物", "", ""],
        ],
        "product4": [],
        "product1_click":0,
        "product2_click":0,
        "product3_click":0,
        "product4_click":0,
    }


    function page_preview_after_init() {
        $("#next_phrase").unbind();
        $("#next_phrase").on("click", function () {
            config["change"] = 1;
        });
    }

    function page_teach_menu_after_init() {
        $("#teach_answer").html(teach_answer);

        $("#green_tea_main").unbind();
        $("#red_tea_main").unbind();
        $("#qing_tea_main").unbind();
        $("#hua_tea_main").unbind();

        $("#green_tea_main").on("click",function () {
            config["current"] = 1011 + config["base"];
            change_state(config);
        });

        $("#red_tea_main").on("click",function () {
            config["current"] = 1012 + config["base"];
            change_state(config);
        });

        $("#qing_tea_main").on("click",function () {
            config["current"] = 1013 + config["base"];
            change_state(config);
        });

        $("#hua_tea_main").on("click",function () {
            config["current"] = 1014 + config["base"];
            change_state(config);
        });
    }

    function teach_left_init() {
        $("#left_green_tea").unbind();
        $("#left_green_tea").on("click", function () {
            config["current"] = 1011 + config["base"];
            change_state(config);
        });
        $("#left_red_tea").unbind();
        $("#left_red_tea").on("click", function () {
            config["current"] = 1012 + config["base"];
            change_state(config);
        });
        $("#left_qing_tea").unbind();
        $("#left_qing_tea").on("click", function () {
            config["current"] = 1013 + config["base"];
            change_state(config);
        });

        $("#left_hua_tea").unbind();
        $("#left_hua_tea").on("click", function () {
            config["current"] = 1014 + config["base"];
            change_state(config);
        });
    }

    function teach_choice_init(current_choice) {
        $("#choice_1").unbind();
        $("#choice_1").on("click", function () {
            teach_choice_detail_display(current_choice[0]);
        });
        $("#choice_2").unbind();
        $("#choice_2").on("click", function () {
            teach_choice_detail_display(current_choice[1]);
        });
        $("#choice_3").unbind();
        $("#choice_3").on("click", function () {
            teach_choice_detail_display(current_choice[2]);
        });
        $("#choice_4").unbind();
        $("#choice_4").on("click", function () {
            teach_choice_detail_display(current_choice[3]);
        });
        $("#choice_5").unbind();
        $("#choice_5").on("click", function () {
            teach_choice_detail_display(current_choice[4]);
        });
    }

    function teach_choice_detail_display(current_choice_item) {
        $("#tea_name").html(get_product_name(current_choice_item));
        $("#tea_assortment").html(get_product_attribute(current_choice_item));
        $("#other_discription").html(get_product_other_description(current_choice_item));
        $("#select_pic").attr("src", get_product_file_path(current_choice_item));
        $("#tea_benefit").html(get_product_benefit(current_choice_item));
        $("#product_tips").css("display","none");
        $("#product_discription").css("display","block");
        $("#buy_button").css("visibility", "visiable");
        $("#buy_button").unbind();
        $("#buy_button").on("click", function () {
            var name = get_product_name(current_choice_item);
            if(name != teach_answer){
                alert("请找到" + teach_answer);
                return;
            }
            config["change"] = 1;
        })
    }

    function page_teach_product1_after_init() {
        // 设置页面详细信息
        set_page_detail(teach_choice["product1"]);
        // 四个标签按钮点击事件
        teach_left_init();
        // 五个商品点击事件
        teach_choice_init(teach_choice["product1"]);
    }

    function page_teach_product2_after_init() {
        // 设置页面详细信息
        set_page_detail(teach_choice["product2"]);
        // 四个标签按钮点击事件
        teach_left_init();
        // 五个商品点击事件
        teach_choice_init(teach_choice["product2"]);
    }

    function page_teach_product3_after_init() {
        // 设置页面详细信息
        set_page_detail(teach_choice["product3"]);
        // 四个标签按钮点击事件
        teach_left_init();
        // 五个商品点击事件
        teach_choice_init(teach_choice["product3"]);
    }

    function page_teach_product4_after_init() {
        // 设置页面详细信息
        set_page_detail(teach_choice["product4"]);
        // 四个标签按钮点击事件
        teach_left_init();
        // 五个商品点击事件
        teach_choice_init(teach_choice["product4"]);
    }

    function tea_task_after_init(){
        product_config = config_tea;
        product_question = question_tea;
        product_choose = choose_tea;
        product_choose["names"] =  random_choice_product(product_choose["names"], product_choose["names"].length);
        product_test = test_tea;
        for(var i = 0; i < product_test["tests"].length; ++i){
            product_test["tests"][i] = random_choice_product(product_test["tests"][i], product_test["tests"][i].length);
        }
        config["base"] += 1000;
        clear_choice();
    }

    function shampoo_task_after_init(){
        product_config = config_shampoo;
        product_question = question_shampoo;
        product_choose = choose_shampoo
        product_choose["names"] =  random_choice_product(product_choose["names"], product_choose["names"].length);
        product_test = test_shampoo;
        for(var i = 0; i < product_test["tests"].length; ++i){
            product_test["tests"][i] = random_choice_product(product_test["tests"][i], product_test["tests"][i].length);
        }
        config["base"] += 1000;
        clear_choice();
    }

    function brush_task_after_init(){
        product_config = config_brush;
        product_question = question_brush;
        product_choose = choose_brush;
        product_choose["names"] =  random_choice_product(product_choose["names"], product_choose["names"].length);
        product_test = test_brush;
        for(var i = 0; i < product_test["tests"].length; ++i){
            product_test["tests"][i] = random_choice_product(product_test["tests"][i], product_test["tests"][i].length);
        }
        config["base"] += 1000;
        clear_choice();
    }


    // choose menu
    function page_choose_menu_after_init() {
        var current = product_choose["current"];
        var answer = product_choose["names"][current];
        $("#choose_task_number").html(current + 1);
        $("#answer").html(answer);

        $("#green_tea_main").unbind();
        $("#red_tea_main").unbind();
        $("#qing_tea_main").unbind();
        $("#hua_tea_main").unbind();

        $("#green_tea_main").on("click",function () {
            config["current"] = 1031 + config["base"];
            change_state(config);
        });

        $("#red_tea_main").on("click",function () {
            config["current"] = 1032 + config["base"];
            change_state(config);
        });

        $("#qing_tea_main").on("click",function () {
            config["current"] = 1033 + config["base"];
            change_state(config);
        });

        $("#hua_tea_main").on("click",function () {
            config["current"] = 1034 + config["base"];
            change_state(config);
        });
    }

    function choose_left_init() {
        $("#left_green_tea").unbind();
        $("#left_green_tea").on("click", function () {
            config["current"] = 1031 + config["base"];
            change_state(config);
        });
        $("#left_red_tea").unbind();
        $("#left_red_tea").on("click", function () {
            config["current"] = 1032 + config["base"];
            change_state(config);
        });
        $("#left_qing_tea").unbind();
        $("#left_qing_tea").on("click", function () {
            config["current"] = 1033 + config["base"];
            change_state(config);
        });

        $("#left_hua_tea").unbind();
        $("#left_hua_tea").on("click", function () {
            config["current"] = 1034 + config["base"];
            change_state(config);
        });
    }

    function choose_choice_init(current_choice) {
        $("#choice_1").unbind();
        $("#choice_1").on("click", function () {
            choose_choice_detail_display(current_choice[0]);
        });
        $("#choice_2").unbind();
        $("#choice_2").on("click", function () {
            choose_choice_detail_display(current_choice[1]);
        });
        $("#choice_3").unbind();
        $("#choice_3").on("click", function () {
            choose_choice_detail_display(current_choice[2]);
        });
        $("#choice_4").unbind();
        $("#choice_4").on("click", function () {
            choose_choice_detail_display(current_choice[3]);
        });
        $("#choice_5").unbind();
        $("#choice_5").on("click", function () {
            choose_choice_detail_display(current_choice[4]);
        });
    }

    function choose_choice_detail_display(current_choice_item) {
        $("#tea_name").html(get_product_name(current_choice_item));
        $("#tea_assortment").html(get_product_attribute(current_choice_item));
        $("#other_discription").html(get_product_other_description(current_choice_item));
        $("#select_pic").attr("src", get_product_file_path(current_choice_item));
        $("#tea_benefit").html(get_product_benefit(current_choice_item));
        $("#product_tips").css("display","none");
        $("#product_discription").css("display","block");
        $("#buy_button").css("visibility", "visiable");
        $("#buy_button").unbind();
        $("#buy_button").on("click", function () {
            var name = get_product_name(current_choice_item);
            var current = product_choose["current"];
            var answer = product_choose["names"][current];
            if(name != answer){
                alert("请找到" + answer);
                return;
            }
            product_choose["current"] += 1;
            if (product_choose["current"] < product_choose["names"].length){
                config["current"] = 1030 + config["base"];
                change_state(config);
                return;
            }
            config["change"] = 1;
        })
    }
    
    function choose_set_page_detail(choice) {
        set_page_detail(choice);
        var current = product_choose["current"];
        var answer = product_choose["names"][current];
        $("#answer").html(answer);
    }

    function page_choose_product1_after_init() {
        // 设置页面详细信息
        choose_set_page_detail(choice["product1"]);
        // 四个标签按钮点击事件
        choose_left_init();
        // 五个商品点击事件
        choose_choice_init(choice["product1"]);
    }

    function page_choose_product2_after_init() {
        // 设置页面详细信息
        choose_set_page_detail(choice["product2"]);
        // 四个标签按钮点击事件
        choose_left_init();
        // 五个商品点击事件
        choose_choice_init(choice["product2"]);
    }

    function page_choose_product3_after_init() {
        // 设置页面详细信息
        choose_set_page_detail(choice["product3"]);
        // 四个标签按钮点击事件
        choose_left_init();
        // 五个商品点击事件
        choose_choice_init(choice["product3"]);
    }

    function page_choose_product4_after_init() {
        // 设置页面详细信息
        choose_set_page_detail(choice["product4"]);
        // 四个标签按钮点击事件
        choose_left_init();
        // 五个商品点击事件
        choose_choice_init(choice["product4"]);
    }


    var page_tea_item = {
        3: {"next":10, "html":page_tea_task, "wait":0, "auto":0, "before_init":null, "after_init":tea_task_after_init},
        10: {"next":10, "html":page_tea_menu, "wait":10000, "auto":0, "before_init":null, "after_init":page_product_menu_after_init},
        11: {"next":20, "html":page_tea_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_product1_after_init},
        12: {"next":20, "html":page_tea_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_product2_after_init},
        13: {"next":20, "html":page_tea_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_product3_after_init},
        14: {"next":20, "html":page_tea_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_product4_after_init},
        20: {"next":30, "html":page_choose_preview, "wait":10000, "auto":0, "before_init":null, "after_init":page_preview_after_init},
        30: {"next":30, "html":page_tea_choose_menu, "wait":10000, "auto":0, "before_init":null, "after_init":page_choose_menu_after_init},
        31: {"next":40, "html":page_tea_choose_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_choose_product1_after_init},
        32: {"next":40, "html":page_tea_choose_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_choose_product2_after_init},
        33: {"next":40, "html":page_tea_choose_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_choose_product3_after_init},
        34: {"next":40, "html":page_tea_choose_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_choose_product4_after_init},
        40: {"next":50, "html":page_question, "wait":10000, "auto":0, "before_init":null, "after_init":page_question_after_init},
        50: {"next":60, "html":page_test, "wait":10000, "auto":0, "before_init":null, "after_init":page_test_after_init},
        60: {"next":60, "html":page_phrase_transition, "wait":10000, "auto":0, "before_init":null, "after_init":page_phrase_transition_after_init},
    };

    var page_shampoo_item = {
        3: {"next":10, "html":page_shampoo_task, "wait":0, "auto":0, "before_init":null, "after_init":shampoo_task_after_init},
        10: {"next":10, "html":page_shampoo_menu, "wait":10000, "auto":0, "before_init":null, "after_init":page_product_menu_after_init},
        11: {"next":20, "html":page_shampoo_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_product1_after_init},
        12: {"next":20, "html":page_shampoo_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_product2_after_init},
        13: {"next":20, "html":page_shampoo_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_product3_after_init},
        14: {"next":20, "html":page_shampoo_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_product4_after_init},
        20: {"next":30, "html":page_choose_preview, "wait":10000, "auto":0, "before_init":null, "after_init":page_preview_after_init},
        30: {"next":30, "html":page_shampoo_choose_menu, "wait":10000, "auto":0, "before_init":null, "after_init":page_choose_menu_after_init},
        31: {"next":40, "html":page_shampoo_choose_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_choose_product1_after_init},
        32: {"next":40, "html":page_shampoo_choose_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_choose_product2_after_init},
        33: {"next":40, "html":page_shampoo_choose_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_choose_product3_after_init},
        34: {"next":40, "html":page_shampoo_choose_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_choose_product4_after_init},
        40: {"next":50, "html":page_question, "wait":10000, "auto":0, "before_init":null, "after_init":page_question_after_init},
        50: {"next":60, "html":page_test, "wait":10000, "auto":0, "before_init":null, "after_init":page_test_after_init},
        60: {"next":60, "html":page_phrase_transition, "wait":10000, "auto":0, "before_init":null, "after_init":page_phrase_transition_after_init},
    };

    var page_brush_item = {
        3: {"next":10, "html":page_brush_task, "wait":0, "auto":0, "before_init":null, "after_init":brush_task_after_init},
        10: {"next":10, "html":page_brush_menu, "wait":10000, "auto":0, "before_init":null, "after_init":page_product_menu_after_init},
        11: {"next":20, "html":page_brush_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_product1_after_init},
        12: {"next":20, "html":page_brush_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_product2_after_init},
        13: {"next":20, "html":page_brush_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_product3_after_init},
        14: {"next":20, "html":page_brush_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_product4_after_init},
        20: {"next":30, "html":page_choose_preview, "wait":10000, "auto":0, "before_init":null, "after_init":page_preview_after_init},
        30: {"next":30, "html":page_brush_choose_menu, "wait":10000, "auto":0, "before_init":null, "after_init":page_choose_menu_after_init},
        31: {"next":40, "html":page_brush_choose_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_choose_product1_after_init},
        32: {"next":40, "html":page_brush_choose_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_choose_product2_after_init},
        33: {"next":40, "html":page_brush_choose_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_choose_product3_after_init},
        34: {"next":40, "html":page_brush_choose_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_choose_product4_after_init},
        40: {"next":50, "html":page_question, "wait":10000, "auto":0, "before_init":null, "after_init":page_question_after_init},
        50: {"next":60, "html":page_test, "wait":10000, "auto":0, "before_init":null, "after_init":page_test_after_init},
        60: {"next":60, "html":page_phrase_transition, "wait":10000, "auto":0, "before_init":null, "after_init":page_phrase_transition_after_init},
    };

    function generate_pages_2(first, second){
        var pages = {
            1: {"next":3, "html":page_introduction, "wait":0, "auto":0, "before_init":null, "after_init":null},
            3: {"next":10, "html":page_teach_preview, "wait":10, "auto":0, "before_init":null, "after_init":page_preview_after_init},
            10: {"next":10, "html":page_teach_menu, "wait":10000, "auto":0, "before_init":null, "after_init":page_teach_menu_after_init},
            11: {"next":40, "html":page_teach_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_teach_product1_after_init},
            12: {"next":40, "html":page_teach_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_teach_product2_after_init},
            13: {"next":40, "html":page_teach_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_teach_product3_after_init},
            40: {"next":40, "html":page_teach_transition, "wait":1, "auto":0, "before_init":null, "after_init":page_phrase_transition_after_init},
        };
        var max_index = 0;
        var base = 1000;
        for(var item in first){
            item = parseInt(item)
            pages[item + base] = first[item];
            pages[item + base]["next"] += base;
            max_index = Math.max(max_index, item + base);
        }
        console.log(pages)
        base = 2000;
        for(var item in second){
            item = parseInt(item)
            pages[item + base] = second[item];
            pages[item + base]["next"] += base;
            max_index = Math.max(max_index, item + base);
        }
        console.log(pages)
        // 找到最后一项, 最大一项

        pages[max_index]["html"] = page_final_submit;
        pages[max_index]["after_init"] = page_final_submit_after_init;
        console.log("max index:", max_index);
        console.log(pages)
        return pages;
    }

    function generate_pages_3(first, second, third){
        var pages = {
            1: {"next":3, "html":page_introduction, "wait":0, "auto":0, "before_init":null, "after_init":null},
            3: {"next":10, "html":page_teach_preview, "wait":10, "auto":0, "before_init":null, "after_init":page_preview_after_init},
            10: {"next":10, "html":page_teach_menu, "wait":10000, "auto":0, "before_init":null, "after_init":page_teach_menu_after_init},
            11: {"next":40, "html":page_teach_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_teach_product1_after_init},
            12: {"next":40, "html":page_teach_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_teach_product2_after_init},
            13: {"next":40, "html":page_teach_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_teach_product3_after_init},
            40: {"next":40, "html":page_teach_transition, "wait":1, "auto":0, "before_init":null, "after_init":page_phrase_transition_after_init},
        };
        var max_index = 0;
        var base = 1000;
        for(var item in first){
            item = parseInt(item)
            pages[item + base] = first[item];
            pages[item + base]["next"] += base;
            max_index = Math.max(max_index, item + base);
        }
        console.log(pages)
        base = 2000;
        for(var item in second){
            item = parseInt(item)
            pages[item + base] = second[item];
            pages[item + base]["next"] += base;
            max_index = Math.max(max_index, item + base);
        }
        console.log(pages)
        var base = 3000;
        for(var item in third){
            item = parseInt(item)
            pages[item + base] = third[item];
            pages[item + base]["next"] += base;
            max_index = Math.max(max_index, item + base);
        }
        console.log(pages)
        // 找到最后一项, 最大一项

        pages[max_index]["html"] = page_final_submit;
        pages[max_index]["after_init"] = page_final_submit_after_init;
        console.log("max index:", max_index);
        console.log(pages)
        return pages;
    }

    var config = {
        "base": -1000,
        "current":1,
        "pages": {
            1001: {"next":1002, "html":page_introduction, "wait":0, "auto":0, "before_init":null, "after_init":null},
            
            1002: {"next":1003, "html":page_tea_introduction, "wait":2, "auto":0, "before_init":null, "after_init":null},
            1003: {"next":1004, "html":page_tea_task, "wait":2, "auto":0, "before_init":null, "after_init":tea_task_after_init},
            1004: {"next":1004, "html":page_tea_menu, "wait":10000, "auto":0, "before_init":null, "after_init":page_product_menu_after_init},
            1005: {"next":1005, "html":page_tea_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_product1_after_init},
            1006: {"next":1006, "html":page_tea_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_product2_after_init},
            1007: {"next":1007, "html":page_tea_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_product3_after_init},
            1008: {"next":1008, "html":page_tea_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_product4_after_init},
            1009: {"next":1009, "html":page_question, "wait":0, "auto":0, "before_init":null, "after_init":page_question_after_init},
            1010: {"next":1010, "html":page_phrase_transition, "wait":0, "auto":0, "before_init":null, "after_init":page_phrase_transition_after_init},

            2002: {"next":2003, "html":page_shampoo_introduction, "wait":0, "auto":0, "before_init":null, "after_init":null},
            2003: {"next":2004, "html":page_shampoo_task, "wait":0, "auto":0, "before_init":null, "after_init":shampoo_task_after_init},
            2004: {"next":2004, "html":page_shampoo_menu, "wait":10000, "auto":0, "before_init":null, "after_init":page_product_menu_after_init},
            2005: {"next":2005, "html":page_shampoo_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_product1_after_init},
            2006: {"next":2006, "html":page_shampoo_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_product2_after_init},
            2007: {"next":2007, "html":page_shampoo_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_product3_after_init},
            2008: {"next":2008, "html":page_shampoo_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_product4_after_init},
            2009: {"next":2009, "html":page_question, "wait":0, "auto":0, "before_init":null, "after_init":page_question_after_init},
            2010: {"next":2010, "html":page_phrase_transition, "wait":0, "auto":0, "before_init":null, "after_init":page_phrase_transition_after_init},

            3002: {"next":3003, "html":page_brush_introduction, "wait":0, "auto":0, "before_init":null, "after_init":null},
            3003: {"next":3004, "html":page_brush_task, "wait":0, "auto":0, "before_init":null, "after_init":brush_task_after_init},
            3004: {"next":3004, "html":page_brush_menu, "wait":10000, "auto":0, "before_init":null, "after_init":page_product_menu_after_init},
            3005: {"next":3005, "html":page_brush_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_product1_after_init},
            3006: {"next":3006, "html":page_brush_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_product2_after_init},
            3007: {"next":3007, "html":page_brush_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_product3_after_init},
            3008: {"next":3008, "html":page_brush_product, "wait":10000, "auto":0, "before_init":null, "after_init":page_product4_after_init},
            3009: {"next":3009, "html":page_question, "wait":0, "auto":0, "before_init":null, "after_init":page_question_after_init},
            3010: {"next":3010, "html":page_final_submit, "wait":0, "auto":0, "before_init":null, "after_init":page_final_submit_after_init},

        }
    };


    function get_arrange(items){
        var arrange_arr = [];
        var get_arrange_rec = function(result, arrange, index) {
            if(index==arrange.length-1){
                result.push(arrange.slice(0));
                return;
            }
            for(var i=index; i<arrange.length; ++i){
                var tmp = arrange[index];
                arrange[index] = arrange[i];
                arrange[i] = tmp;
                get_arrange_rec(result, arrange, index + 1);
                arrange[i] = arrange[index];
                arrange[index] = tmp;
            }
        }
        get_arrange_rec(arrange_arr, items, 0);
        return arrange_arr;
    }

    function get_number_by_items(items){
        var items_order = [];
        for(var i = 0; i< output_order.length; ++i){
            if(items.indexOf(output_order[i])>-1){
                items_order.push(output_order[i]);
            }
        }
        var arrange_arr = get_arrange(items_order);
        var signature = items.join("_");
        var index = 0;
        for(index=0; index<arrange_arr.length; ++index){
            if(signature == arrange_arr[index].join("_")){
                console.log("find item:", index, "sign:", signature);
                break;
            }
        }
        return index + 1;
    }

    function get_page_item_by_name(name){
        var page_item = null;
        if(name=="tea"){
            page_item = page_tea_item;
        }else if(name=="brush"){
            page_item = page_brush_item;
        }else if(name=="shampoo"){
            page_item = page_shampoo_item
        }
        return page_item;
    }

    function reset_config(items) {
        console.log("items:", items);
        if(items.length == 2){
            config["pages"] = generate_pages_2(get_page_item_by_name(items[0]), get_page_item_by_name(items[1]));
        }else if(items.length == 3){
            config["pages"] = generate_pages_3(get_page_item_by_name(items[0]), get_page_item_by_name(items[1]), get_page_item_by_name(items[2]));
        }
        order_number = get_number_by_items(items);
        order_sign = items.join("_");
        console.log("order_number:", order_number, "order_sign:", order_sign);
    }

    // 对Date的扩展，将 Date 转化为指定格式的String
    // 月(M)、日(d)、小时(h)、分(m)、秒(s)、季度(q) 可以用 1-2 个占位符，
    // 年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字)
    // 例子：
    // (new Date()).Format("yyyy-MM-dd hh:mm:ss.S") ==> 2006-07-02 08:09:04.423
    // (new Date()).Format("yyyy-M-d h:m:s.S")      ==> 2006-7-2 8:9:4.18
    Date.prototype.format = function(fmt)
    { //author: meizz
        var o = {
            "M+" : this.getMonth()+1,                 //月份
            "d+" : this.getDate(),                    //日
            "h+" : this.getHours(),                   //小时
            "m+" : this.getMinutes(),                 //分
            "s+" : this.getSeconds(),                 //秒
            "q+" : Math.floor((this.getMonth()+3)/3), //季度
            "S"  : this.getMilliseconds()             //毫秒
        };
        if(/(y+)/.test(fmt))
            fmt=fmt.replace(RegExp.$1, (this.getFullYear()+"").substr(4 - RegExp.$1.length));
        for(var k in o)
            if(new RegExp("("+ k +")").test(fmt))
                fmt = fmt.replace(RegExp.$1, (RegExp.$1.length==1) ? (o[k]) : (("00"+ o[k]).substr((""+ o[k]).length)));
        return fmt;
    }

    function set_body(html){
        $("body").html(html)
    }

    function saveFile(filename, file_content) {
        var file = new File([file_content], filename, { type:"text/plain;charset=utf-8" });
        saveAs(file);
    }

    function print_config(states) {
        console.log("current: ", states["current"]);
        for(var item in states["pages"]){
            var value = states["pages"][item]
            console.log("page:", item, "next", value["next"], "wait:", value["wait"], "auto:", value["auto"]);
            console.log(value["html"]);
            console.log("");
            console.log("");
        }
    }

    function change_state(states){
        var current = states["current"];
        var current_page = states["pages"][current];
        states["next"] = current_page["next"];
        states["html"] = current_page["html"];
        states["wait"] = current_page["wait"];
        states["auto"] = current_page["auto"];
        states["before_init"] = current_page["before_init"];
        states["after_init"] = current_page["after_init"];
        states["start"] = Date.parse(new Date());
        states["change"] = 0;
        if(states["before_init"]){
            states["before_init"]();
        }
        set_body(states["html"]);
        if(states["after_init"]){
            states["after_init"]();
        }
    };

    function working_machine(states) {
        if(states["change"] && (states["current"] != states["next"])){
            states["current"] = states["next"];
            change_state(states);
        }
    };

    function check_and_show_next(states){
        var time_spend = (Date.parse(new Date()) - states["start"]) / 1000;
        if(time_spend >= states["wait"]){
            if(states["auto"]){
                states["change"] = 1;
            }else{
                $("#next_tips").css("visibility","visible");
                $("#next_tips").unbind();
                $("#next_tips").on("click",function(){
                    console.log("press next_tips")
                    states["change"] = 1;
                });
            }
        }
    };

    function register_key_event(states) {
        // 设置父窗口事件
        document.onkeydown = function (event) {
            var e = event || window.event || arguments.callee.caller.arguments[0];
            console.log("press key code: ", e.keyCode);
            if(e && (e.keyCode == 13 || e.keyCode == 32 ||  e.keyCode == 78 || e.keyCode == 88)){
                // keyCode: 13 Enter, keyCode: 32 Space, keyCode: 78 n N, keyCode:88 x X
                if(states["auto"] == 0){
                    var time_spend = (Date.parse(new Date()) - states["start"]) / 1000;   // 时间s
                    if(time_spend >= states["wait"]){
                        states["change"] = 1;
                    }else{
                        console.log("current:", states["current"], "spend:", time_spend, "wait:", states["wait"]);
                    }
                    $("#next_page").trigger('click');
                }else{
                    console.log("current page auto:", states["current"]);
                }
            }
        };
    };

    // page_product_menu 初始化绑定事件
    function page_product_menu_after_init(){
        $("#green_tea_main").unbind();
        $("#red_tea_main").unbind();
        $("#qing_tea_main").unbind();
        $("#hua_tea_main").unbind();

        $("#green_tea_main").on("click",product1_onclick);
        $("#red_tea_main").on("click",product2_onclick);
        $("#qing_tea_main").on("click",product3_onclick);
        $("#hua_tea_main").on("click",product4_onclick);

        choice["product1"] = random_choice_product(product_config["product1"], 5);
        choice["product2"] = random_choice_product(product_config["product2"], 5);
        choice["product3"] = random_choice_product(product_config["product3"], 5);
        choice["product4"] = random_choice_product(product_config["product4"], 5);

        console.log("product1:");
        for (var i = 0; i <choice["product1"].length; i++){
            console.log(choice["product1"][i]);
        }
        console.log("product2:");
        for (var i = 0; i <choice["product2"].length; i++){
            console.log(choice["product2"][i]);
        }
        console.log("product3:");
        for (var i = 0; i <choice["product3"].length; i++){
            console.log(choice["product3"][i]);
        }
        console.log("product4:");
        for (var i = 0; i <choice["product4"].length; i++){
            console.log(choice["product4"][i]);
        }
    }

    function product1_onclick(){
        config["current"] = 1011 + config["base"];
        change_state(config);
        choice["product1_click"] = 1;
        choice["start_time"] = new Date();
        console.log("product1_onclick:", choice["start_time"])
    }
    function product2_onclick(){
        config["current"] = 1012 + config["base"];
        change_state(config);
        choice["product2click"] = 1;
        choice["start_time"] = new Date();
        console.log("product2_onclick:", choice["start_time"])
    }
    function product3_onclick(){
        config["current"] = 1013 + config["base"];
        change_state(config);
        choice["product3_click"] = 1;
        choice["start_time"] = new Date();
        console.log("product3_onclick:", choice["start_time"])
    }
    function product4_onclick(){
        config["current"] = 1014 + config["base"];
        change_state(config);
        choice["product4_click"] = 1;
        choice["start_time"] = new Date();
        console.log("product4_onclick:", choice["start_time"])
    }

    //page3_1 初始化

    var choice = {
        "start_time": new Date(),
        "end_time": new Date(),
        "spend_time": 0,
        "product1": [],
        "product2": [],
        "product3": [],
        "product4": [],
        "product1_click":0,
        "product2_click":0,
        "product3_click":0,
        "product4_click":0,
    };

    var choice_infos = {};

    function left_init() {
        $("#left_green_tea").unbind();
        $("#left_green_tea").on("click", function () {
            choice["product1_click"] = 1;
            config["current"] = 1011 + config["base"];
            change_state(config);
        });
        $("#left_red_tea").unbind();
        $("#left_red_tea").on("click", function () {
            choice["product2_click"] = 1;
            config["current"] = 1012 + config["base"];
            change_state(config);
        });
        $("#left_qing_tea").unbind();
        $("#left_qing_tea").on("click", function () {
            choice["product3_click"] = 1;
            config["current"] = 1013 + config["base"];
            change_state(config);
        });
        $("#left_hua_tea").unbind();
        $("#left_hua_tea").on("click", function () {
            choice["product4_click"] = 1;
            config["current"] = 1014 + config["base"];
            change_state(config);
        });
    }
    function check_show_buy_button(current_choice_item){
        var show = false;
        var show_count = 0;
        for(var i=0;i<choice["product1"].length; i++){
            if(choice["product1"][i][0]){
                show_count++;
            }
        }
        for(var i=0;i<choice["product2"].length; i++){
            if(choice["product2"][i][0]){
                show_count++;
            }
        }
        for(var i=0;i<choice["product3"].length; i++){
            if(choice["product3"][i][0]){
                show_count++;
            }
        }
        for(var i=0;i<choice["product4"].length; i++){
            if(choice["product4"][i][0]){
                show_count++;
            }
        }

        var type_count = choice["product1_click"] + choice["product2_click"]+ choice["product3_click"]+choice["product4_click"];

        if(show_count>=5 || type_count>=4) {
            $("#buy_button").css("visibility","visible");
            $("#buy_button").unbind();
            $("#buy_button").on("click",function(){
                save_on_click(current_choice_item);
            });
        }else{
            $("#buy_button").css("visibility","hidden");
            $("#buy_button").unbind();
            $("#buy_button").on("click",function(){});
        }


    }

    function choice_init(current_choice) {
        $("#choice_1").unbind();
        $("#choice_1").on("click", function () {
            choice_detail_display(current_choice[0]);
        });
        $("#choice_2").unbind();
        $("#choice_2").on("click", function () {
            choice_detail_display(current_choice[1]);
        });
        $("#choice_3").unbind();
        $("#choice_3").on("click", function () {
            choice_detail_display(current_choice[2]);
        });
        $("#choice_4").unbind();
        $("#choice_4").on("click", function () {
            choice_detail_display(current_choice[3]);
        });
        $("#choice_5").unbind();
        $("#choice_5").on("click", function () {
            choice_detail_display(current_choice[4]);
        });
    }
    
    function choice_detail_display(current_choice_item) {
        $("#tea_name").html(get_product_name(current_choice_item));
        $("#tea_assortment").html(get_product_attribute(current_choice_item));
        $("#other_discription").html(get_product_other_description(current_choice_item));
        $("#select_pic").attr("src", get_product_file_path(current_choice_item));
        $("#tea_benefit").html(get_product_benefit(current_choice_item));
        set_product_chosen(current_choice_item);
        check_show_buy_button(current_choice_item);
        $("#product_tips").css("display","none");
        $("#product_discription").css("display","block");
    }

    function page_product1_after_init(){
        // 设置页面详细信息
        set_page_detail(choice["product1"]);
        // 四个标签按钮点击事件
        left_init();
        // 五个商品点击事件
        choice_init(choice["product1"]);
    }

    function page_product2_after_init(){
        // 设置页面详细信息
        set_page_detail(choice["product2"]);
        // 四个标签按钮点击事件
        left_init();
        // 五个商品点击事件
        choice_init(choice["product2"]);
    }

    function page_product3_after_init(){
        // 设置页面详细信息
        set_page_detail(choice["product3"]);
        // 四个标签按钮点击事件
        left_init();
        // 五个商品点击事件
        choice_init(choice["product3"]);
    }

    function page_product4_after_init(){
        // 设置页面详细信息
        set_page_detail(choice["product4"]);
        // 四个标签按钮点击事件
        left_init();
        // 五个商品点击事件
        choice_init(choice["product4"]);
    }

    function get_filename(filepath) {
        var index1 = filepath.lastIndexOf("/");
        var index2 = filepath.lastIndexOf(".");
        return filepath.substring(index1+1,index2);
    }

    function get_product_name(choice_item) {
        return get_filename(get_product_file_path(choice_item));
    }

    function set_product_chosen(choice_item) {
        choice_item[0] = 1;
    }

    function get_product_chosen(choice_item) {
        return choice_item[0];
    }
    
    function get_product_file_path(choice_item) {
        return choice_item[1];
    }

    function get_product_attribute(choice_item) {
        return choice_item[2];
    }

    function get_product_benefit(choice_item) {
        return choice_item[3];
    }

    function get_product_other_description(choice_item) {
        return choice_item[4];
    }

    function get_product_benefit_description(choice_item) {
        return choice_item[5];
    }

    function get_product_id(choice_item) {
        return choice_item[6];
    }

    function set_page_detail(choice) {
        // 设置标题
        var assortment_title = "";
        if(condition=="attribute"){
            assortment_title = get_product_attribute(choice[0]);
        }else if(condition=="benefit"){
            assortment_title = get_product_benefit(choice[0]);
        }
        $("#assortment_title").html(assortment_title);
        if(title_color_map[assortment_title] != null){
            $("#assortment_title").css("background-color", title_color_map[assortment_title]);
        }

        // 设置名称
        $("#text_1").html(get_product_name(choice[0]));
        $("#text_2").html(get_product_name(choice[1]));
        $("#text_3").html(get_product_name(choice[2]));
        $("#text_4").html(get_product_name(choice[3]));
        $("#text_5").html(get_product_name(choice[4]));
        // 设置图片
        $("#pic_1").attr("src", get_product_file_path(choice[0]));
        $("#pic_2").attr("src", get_product_file_path(choice[1]));
        $("#pic_3").attr("src", get_product_file_path(choice[2]));
        $("#pic_4").attr("src", get_product_file_path(choice[3]));
        $("#pic_5").attr("src", get_product_file_path(choice[4]));
    }

    function random_choice_product(product_arr, num) {
        var product_index = Array.from(Array(product_arr.length).keys())
        shuffle(product_index);
        var product_chosen = [];
        for(var i=0; i<num; i++){
            product_chosen.push(product_arr[product_index[i]]);
        }
        return product_chosen;
    }

    function shuffle(a) {
        var len = a.length;
        for (var i = 0; i < len - 1; i++) {
            var index = parseInt(Math.random() * (len - i));
            var temp = a[index];
            a[index] = a[len - i - 1];
            a[len - i - 1] = temp;
        }
    }

    function choice_result(choice){
        var obj = {};
        obj["start"] = choice["start_time"].format("yyyy-MM-dd_hh:mm:ss");
        obj["end"] = choice["end_time"].format("yyyy-MM-dd_hh:mm:ss");
        obj["spend"] = Math.round(choice["spend_time"] / 1000);
        obj["product"] = [];

        var product1 = {};
        product1["rate"] = 0;
        for(var i=0; i < choice["product1"].length; i++) {
            var pathname = get_product_name(choice["product1"][i]);
            var chosen = get_product_chosen(choice["product1"][i]);
            product1[pathname] = chosen;
            product1["rate"] += chosen;
        }
        product1["rate"] /= choice["product1"].length;
        obj["product"].push(product1);

        var product2 = {};
        product2["rate"] = 0;
        for(var i=0; i < choice["product2"].length; i++) {
            var pathname = get_product_name(choice["product2"][i]);
            var chosen = get_product_chosen(choice["product2"][i]);
            product2[pathname] = chosen;
            product2["rate"] += chosen;
        }
        product2["rate"] /= choice["product2"].length;
        obj["product"].push(product2);

        var product3 = {};
        product3["rate"] = 0;
        for(var i=0; i < choice["product3"].length; i++) {
            var pathname = get_product_name(choice["product3"][i]);
            var chosen = get_product_chosen(choice["product3"][i]);
            product3[pathname] = chosen;
            product3["rate"] += chosen;
        }
        product3["rate"] /= choice["product3"].length;
        obj["product"].push(product3);

        var product4 = {};
        product4["rate"] = 0;
        for(var i=0; i < choice["product4"].length; i++) {
            var pathname = get_product_name(choice["product4"][i]);
            var chosen = get_product_chosen(choice["product4"][i]);
            product4[pathname] = chosen;
            product4["rate"] += chosen;
        }
        product4["rate"] /= choice["product4"].length;
        obj["product"].push(product4);

        return obj;
    }

    function save_on_click(final_choose) {
        console.log("save_in_click", final_choose);
        choice["end_time"] = new Date();
        choice["spend_time"] = choice["end_time"] - choice["start_time"];
        var result = choice_result(choice);
        result["choose"] = get_product_name(final_choose);
        result["choose_id"] = get_product_id(final_choose);
        var name = product_config["name"];
        choice_infos[name] = result;
        console.log("choice_infos:", choice_infos);
        config["change"] = 1;
    }

    
    // page question
    var questions = {
        "current":0,
        "answers":[]
    }
    var question_answers = {};
    function show_current_question() {
        var index = questions["current"];
        if(index >= product_question["questions"].length){
            console.log("question end, index: ", index);
            question_answers[product_config["name"]] = questions["answers"];
            config["change"] = 1;
            return;
        }
        var question = product_question["questions"][index];
        set_body(question["template"]);
        if(question.hasOwnProperty("content") && question["content"]!=""){
            $("#content").html(question["content"]);
        }
        if(question.hasOwnProperty("left") && question["left"]!=""){
            $("#left").html(question["left"]);
        }
        if(question.hasOwnProperty("right") && question["right"]!=""){
            $("#right").html(question["right"]);
        }
        $("#next_page").unbind();
        $("#next_page").on("click",function () {
            var val=$('input:radio[name="one_choice"]:checked').val();
            if(val==null){
                console.log("question select nothing", question)
                alert("请选择一个选项");
                return;
            }
            var val_int = parseInt(val);
            if(!question.hasOwnProperty("example") || question["example"]==0 || question["example"]=="0" ){
                questions["answers"].push({"id": question["id"], "answer": val_int});
            }
            questions["current"] = index + 1;
            show_current_question();
        });
    }
    
    function page_question_after_init() {
        // 此时要页面
        $("#next_tips").unbind();
        $("#next_tips").on("click", function () {
            questions["current"] = 0;
            show_current_question();
        })

        // 此时不要页面
//        questions["current"] = 0;
//        show_current_question();
    }

    // page_test1
    var tests = {
        "start":0,
        "group":0,
        "current":0,
        "answers":[]
    }
    var test_answers = {};
    function show_current_test() {

        while(tests["current"] >= product_test["tests"][tests["group"]].length){
            tests["group"] += 1;
            tests["current"] = 0;
            if(tests["group"] >= product_test["tests"].length){
                console.log("test end, index: ", tests["group"]);
                // tests["answers"] 排序
                tests["answers"].sort(function (answer1, answer2) {
                    if(answer1["id"] < answer2["id"]) return -1;
                    else if(answer1["id"] > answer2["id"]) return 1;
                    else return 0;
                });
                test_answers[product_config["name"]] = tests["answers"];
                config["change"] = 1;
                return;
            }
        }
        var index = tests["current"];
        var group = tests["group"];
        var test = product_test["tests"][group][index];

        set_body(test["template"]);
        if(test.hasOwnProperty("content") && test["content"]!=""){
            $("#content").html(test["content"]);
        }
        if(test.hasOwnProperty("left") && test["left"]!=""){
            $("#left").html(test["left"]);
        }
        if(test.hasOwnProperty("right") && test["right"]!=""){
            $("#right").html(test["right"]);
        }

        for(var i = 0; i < test["pictures"].length; i++){
            var pic = i + 1;
            var pic_str = pic + "";

            var name_id = "#TF_name" + pic_str;
            var picture_id = "#TF_pic" + pic_str;
            var attribute_id = "#TF_attribute" + pic_str;
            var benefit_id = "#TF_benefit" + pic_str;
            $(name_id).html(test["pictures"][i]["name"]);
            $(picture_id).attr("src", test["pictures"][i]["src"]);
            $(attribute_id).html(test["pictures"][i]["attribute"]);
            $(benefit_id).html(test["pictures"][i]["benefit"]);
        }


        if(!test.hasOwnProperty("true") || test["true"]==""){
            alert("这个问题没有正确答案！！！");
            $("#next_page").unbind();
            return;
        }

        $("#next_page").unbind();
        $("#next_page").on("click",function () {
            var val=$('input:radio[name="one_choice"]:checked').val();
            if(val==null){
                console.log("test select nothing", test)
                //alert("请选择一个选项");
                return;
            }
            var correct = (val == test["true"]) ? 1 : 0;
            var spend = new Date() - tests["start"];
            if(!test.hasOwnProperty("example") || test["example"]==0 || test["example"]=="0" ){
                tests["answers"].push({"id": test["id"], "answer": correct, "RT":spend});
            }
            tests["current"] = index + 1;
            tests["start"] = new Date();
            show_current_test();
        });

        $("#choice_1").unbind();
        $("#choice_2").unbind();
        $("#choice_1").on("click", function () {
            $("#next_page").trigger('click');
        });
        $("#choice_2").on("click", function () {
            $("#next_page").trigger('click');
        });

        tests["start"] = new Date();
    }


    function page_test_after_init() {
        $("#next_tips").unbind();
        $("#next_tips").on("click", function () {
            tests["start"] = new Date();
            tests["group"] = 0;
            tests["current"] = 0;
            show_current_test();
        })
    }



    // page phrase transition
    function page_phrase_transition_after_init() {
        $("#next_phrase").unbind();
        $("#next_phrase").on("click", function () {
            config["current"] = 1003 + config["base"] + 1000;
            change_state(config);
        });
    }

    // page final submit
    function page_final_submit_after_init() {
        $("#next_phrase").unbind();
        $("#next_phrase").on("click", function () {
            var _username = $("input[name='username']").val();
            if(_username == null || _username == ""){
                alert("请输入姓名");
                return;
            }

            var _gender= $('input:radio[name="gender"]:checked').val();
            if(_gender == null || _gender == ""){
                alert("请选择性别");
                return;
            }

            var _age = $("input[name='age']").val();
            if(_age == null || _age == ""){
                alert("请输入年龄");
                return;
            }

            var _major = $("input[name='major']").val();
            if(_major == null || _major == ""){
                alert("请输入专业");
                return;
            }

            var _grade = $("select[name='grade'] option:selected").val();
            if(_grade == null || _grade == ""){
                alert("请选择专业");
                return;
            }

            var _phone = $("input[name='phone']").val();
            if(_phone == null || _phone == ""){
                alert("请输入手机号");
                return;
            }

            var _purpose = $("input[name='purpose']").val();

            console.log("username:", _username);
            console.log("gender:", _gender);
            console.log("age:", _age);
            console.log("major:", _major);
            console.log("grade:", _grade);
            console.log("phone:", _phone);
            console.log("purpose:", _purpose);

            if(_username != null && _username != "" ){
                username = _username;
            }

            if(_gender != null && _gender != "" ){
                gender = _gender;
            }

            if(_age != null && _age != "" ){
                age = _age;
            }

            if(_major != null && _major != "" ){
                major = _major;
            }

            if(_grade != null && _grade != "" ){
                var gradeinfo = _grade.split("|");
                if(gradeinfo.length>=1){
                    grade = gradeinfo[0]
                }
                if(gradeinfo.length>=2){
                    grade_id = gradeinfo[1];
                }
            }

            if(_phone != null && _phone != "" ){
                phone = _phone;
            }

            if(_purpose != null && _purpose != "" ){
                purpose = _purpose;
            }

            // 保存文件
            save_final_file();
        });
    }
    
    function save_final_file() {
        var filename = condition + "_"
                    + order_number + "_"
                    + choice["end_time"].format("yyyy_MM_dd_hh_mm") + "_"
                    + username + ".json";

        var stringObj = {
            "username": username,
            "gender": gender,
            "age": age,
            "major": major,
            "grade": grade,
            "phone": phone,
            "condition": condition,
            "order_number": order_number,
            "order_sign": order_sign,
            "purpose": purpose,
            "choice": choice_infos,
            "questions": question_answers,
            "tests": test_answers,
            "output": "",
        };

        var arr = [];
        arr.push("1");                                          // ID
        for(var i=0; i<output_order.length; ++i){
            var name = output_order[i];
            if(!choice_infos.hasOwnProperty(name)){
                console.log("data doesn't have property:", name);
                continue;
            }
            var choose_info = choice_infos[name];
            arr.push(choose_info["start"]);                     // startTime
        }
        arr.push(username);                                     // user
        arr.push(gender);                                       // gender
        arr.push(age);                                          // age
        arr.push(grade);                                        // grade_sign
        arr.push(grade_id);                                     // grade
        arr.push(major);                                        // major
        arr.push(assortment);                                   // assortment
        arr.push(name_type);                                    // name_type
        arr.push(order_sign);                                   // order_sign
        arr.push(order_number);                                 // order_number
        for(var i=0; i<output_order.length; ++i){
            var name = output_order[i];
            if(!choice_infos.hasOwnProperty(name)){
                console.log("data doesn't have property:", name);
                continue;
            }
            var choose_info = choice_infos[name];
            arr.push(choose_info["spend"]);                     // chooseTime
            for(var j=0; j<choose_info["product"].length; ++j){
                arr.push(choose_info["product"][j]["rate"]);    // checkRate
            }
            arr.push(choose_info["choose"]);                    // choose_sign
            arr.push(choose_info["choose_id"]);                 // choose

            var question_answer = question_answers[name];
            for(var j=0; j<question_answer.length; ++j){
                arr.push(question_answer[j]["answer"]);         // question_answers
            }

            var test_answer = test_answers[name];
            var correct = 0;
            for(var j=0; j<test_answer.length; ++j){
                arr.push(test_answer[j]["answer"]);             // test_answers
                correct += test_answer[j]["answer"];
            }
            arr.push(correct/test_answer.length);               // test_rate
            for(var j=0; j<test_answer.length; ++j){
                arr.push(test_answer[j]["RT"]);                 // test_RTs
            }
        }
        arr.push(phone);                                        // phone
        arr.push(purpose);                                      // purpose
        stringObj["output"] = arr.join("|");

        var string = JSON.stringify(stringObj,null,"\t")
        console.log("final save:", string)
        saveFile(filename, string);
    }
    
    function clear_choice() {
        choice = {
            "start_time": new Date(),
            "end_time": new Date(),
            "spend_time": 0,
            "product1": [],
            "product2": [],
            "product3": [],
            "product4": [],
            "product1_click":0,
            "product2_click":0,
            "product3_click":0,
            "product4_click":0,
        };

        questions = {
            "current":0,
            "answers":[]
        };

        tests = {
            "start":0,
            "group":0,
            "current":0,
            "answers":[]
        };
    }

    function main() {
        // 去除order_pages中的空元素
        for(var i=0;i<order_pages.length;){
            if(order_pages[i]==null || order_pages[i].length == 0){
                order_pages.splice(i, 1);
            }else{
                ++i;
            }
        }
        console.log("input order_pages:", order_pages);
        reset_config(order_pages);
        print_config(config);
        register_key_event(config);
        change_state(config);
        window.setInterval(working_machine, 10, config);
        window.setInterval(check_and_show_next, 10, config);
    }


    main();


</script>

</html>